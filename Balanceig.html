<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Irene LiFeng Julià Pérez">

<title>Mètodes de balanceig</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Balanceig_files/libs/clipboard/clipboard.min.js"></script>
<script src="Balanceig_files/libs/quarto-html/quarto.js"></script>
<script src="Balanceig_files/libs/quarto-html/popper.min.js"></script>
<script src="Balanceig_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Balanceig_files/libs/quarto-html/anchor.min.js"></script>
<link href="Balanceig_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Balanceig_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Balanceig_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Balanceig_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Balanceig_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#mètodes-de-balanceig" id="toc-mètodes-de-balanceig" class="nav-link active" data-scroll-target="#mètodes-de-balanceig">Mètodes de balanceig</a>
  <ul>
  <li><a href="#knn" id="toc-knn" class="nav-link" data-scroll-target="#knn">KNN</a></li>
  </ul></li>
  <li><a href="#algoritmes-de-balanceig" id="toc-algoritmes-de-balanceig" class="nav-link" data-scroll-target="#algoritmes-de-balanceig">Algoritmes de balanceig</a>
  <ul>
  <li><a href="#smote-synthetic-minotity-oversampling-technique" id="toc-smote-synthetic-minotity-oversampling-technique" class="nav-link" data-scroll-target="#smote-synthetic-minotity-oversampling-technique">SMOTE (Synthetic Minotity Oversampling Technique)</a></li>
  <li><a href="#borderline-smote" id="toc-borderline-smote" class="nav-link" data-scroll-target="#borderline-smote">Borderline-SMOTE</a></li>
  <li><a href="#adoms-adjusting-the-direction-of-the-synthetic-minority-class-examples" id="toc-adoms-adjusting-the-direction-of-the-synthetic-minority-class-examples" class="nav-link" data-scroll-target="#adoms-adjusting-the-direction-of-the-synthetic-minority-class-examples">ADOMS (Adjusting the Direction of the Synthetic Minority Class Examples)</a></li>
  <li><a href="#adasyn-adaptative-synthetic-sampling-approach" id="toc-adasyn-adaptative-synthetic-sampling-approach" class="nav-link" data-scroll-target="#adasyn-adaptative-synthetic-sampling-approach">ADASYN (Adaptative Synthetic Sampling Approach)</a></li>
  <li><a href="#safe-level-smote" id="toc-safe-level-smote" class="nav-link" data-scroll-target="#safe-level-smote">Safe-Level-SMOTE</a></li>
  <li><a href="#dbsmote" id="toc-dbsmote" class="nav-link" data-scroll-target="#dbsmote">DBSMOTE</a></li>
  <li><a href="#mwmote-majority-weighted-minority-oversampling-technique" id="toc-mwmote-majority-weighted-minority-oversampling-technique" class="nav-link" data-scroll-target="#mwmote-majority-weighted-minority-oversampling-technique">MWMOTE (Majority Weighted Minority Oversampling Technique)</a></li>
  <li><a href="#mdo-mahalanobis-distance-based-oversampling-technique" id="toc-mdo-mahalanobis-distance-based-oversampling-technique" class="nav-link" data-scroll-target="#mdo-mahalanobis-distance-based-oversampling-technique">MDO (Mahalanobis Distance-based Oversampling technique)</a></li>
  </ul></li>
  <li><a href="#dades" id="toc-dades" class="nav-link" data-scroll-target="#dades">Dades</a>
  <ul>
  <li><a href="#abalone9_18" id="toc-abalone9_18" class="nav-link" data-scroll-target="#abalone9_18">abalone9_18</a></li>
  <li><a href="#page_blocks_1_3_4" id="toc-page_blocks_1_3_4" class="nav-link" data-scroll-target="#page_blocks_1_3_4">page_blocks_1_3_4</a></li>
  <li><a href="#glass_0_1_6_vs_2" id="toc-glass_0_1_6_vs_2" class="nav-link" data-scroll-target="#glass_0_1_6_vs_2">glass_0_1_6_vs_2</a></li>
  <li><a href="#glass_0_1_4_6_vs_2" id="toc-glass_0_1_4_6_vs_2" class="nav-link" data-scroll-target="#glass_0_1_4_6_vs_2">glass_0_1_4_6_vs_2</a></li>
  <li><a href="#page-blocks0" id="toc-page-blocks0" class="nav-link" data-scroll-target="#page-blocks0">page-blocks0</a>
  <ul>
  <li><a href="#page_blocks0_1" id="toc-page_blocks0_1" class="nav-link" data-scroll-target="#page_blocks0_1">page_blocks0_1</a></li>
  <li><a href="#page_blocks0_2" id="toc-page_blocks0_2" class="nav-link" data-scroll-target="#page_blocks0_2">page_blocks0_2</a></li>
  </ul></li>
  <li><a href="#abalone19_peque" id="toc-abalone19_peque" class="nav-link" data-scroll-target="#abalone19_peque">abalone19_peque</a></li>
  <li><a href="#glass2" id="toc-glass2" class="nav-link" data-scroll-target="#glass2">glass2</a></li>
  </ul></li>
  <li><a href="#balanceig" id="toc-balanceig" class="nav-link" data-scroll-target="#balanceig">Balanceig</a>
  <ul>
  <li><a href="#smote" id="toc-smote" class="nav-link" data-scroll-target="#smote">SMOTE</a>
  <ul>
  <li><a href="#abalone9_18-1" id="toc-abalone9_18-1" class="nav-link" data-scroll-target="#abalone9_18-1">abalone9_18</a></li>
  <li><a href="#page_blocks_1_3_4-1" id="toc-page_blocks_1_3_4-1" class="nav-link" data-scroll-target="#page_blocks_1_3_4-1">page_blocks_1_3_4</a></li>
  <li><a href="#glass_0_1_6_vs_2-1" id="toc-glass_0_1_6_vs_2-1" class="nav-link" data-scroll-target="#glass_0_1_6_vs_2-1">glass_0_1_6_vs_2</a></li>
  <li><a href="#glass_0_1_4_6_vs_2-1" id="toc-glass_0_1_4_6_vs_2-1" class="nav-link" data-scroll-target="#glass_0_1_4_6_vs_2-1">glass_0_1_4_6_vs_2</a></li>
  <li><a href="#page-blocks0-1" id="toc-page-blocks0-1" class="nav-link" data-scroll-target="#page-blocks0-1">page-blocks0</a>
  <ul class="collapse">
  <li><a href="#page-blocks0_1" id="toc-page-blocks0_1" class="nav-link" data-scroll-target="#page-blocks0_1">page-blocks0_1</a></li>
  <li><a href="#page-blocks0_2" id="toc-page-blocks0_2" class="nav-link" data-scroll-target="#page-blocks0_2">page-blocks0_2</a></li>
  </ul></li>
  <li><a href="#abalone19_peque-1" id="toc-abalone19_peque-1" class="nav-link" data-scroll-target="#abalone19_peque-1">abalone19_peque</a></li>
  <li><a href="#glass2-1" id="toc-glass2-1" class="nav-link" data-scroll-target="#glass2-1">glass2</a></li>
  </ul></li>
  <li><a href="#borderline-smote-1" id="toc-borderline-smote-1" class="nav-link" data-scroll-target="#borderline-smote-1">Borderline SMOTE</a>
  <ul>
  <li><a href="#abalone9_18-2" id="toc-abalone9_18-2" class="nav-link" data-scroll-target="#abalone9_18-2">abalone9_18</a></li>
  <li><a href="#page_blocks_1_3_4-2" id="toc-page_blocks_1_3_4-2" class="nav-link" data-scroll-target="#page_blocks_1_3_4-2">page_blocks_1_3_4</a></li>
  <li><a href="#glass_0_1_6_vs_2-2" id="toc-glass_0_1_6_vs_2-2" class="nav-link" data-scroll-target="#glass_0_1_6_vs_2-2">glass_0_1_6_vs_2</a></li>
  <li><a href="#glass_0_1_4_6_vs_2-2" id="toc-glass_0_1_4_6_vs_2-2" class="nav-link" data-scroll-target="#glass_0_1_4_6_vs_2-2">glass_0_1_4_6_vs_2</a></li>
  <li><a href="#abalone19_peque-2" id="toc-abalone19_peque-2" class="nav-link" data-scroll-target="#abalone19_peque-2">abalone19_peque</a></li>
  <li><a href="#glass2-2" id="toc-glass2-2" class="nav-link" data-scroll-target="#glass2-2">glass2</a></li>
  <li><a href="#page-blocks0-2" id="toc-page-blocks0-2" class="nav-link" data-scroll-target="#page-blocks0-2">page-blocks0</a>
  <ul class="collapse">
  <li><a href="#page_blocks0_1-1" id="toc-page_blocks0_1-1" class="nav-link" data-scroll-target="#page_blocks0_1-1">page_blocks0_1</a></li>
  <li><a href="#page_blocks0_2-1" id="toc-page_blocks0_2-1" class="nav-link" data-scroll-target="#page_blocks0_2-1">page_blocks0_2</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#adoms" id="toc-adoms" class="nav-link" data-scroll-target="#adoms">ADOMS</a>
  <ul>
  <li><a href="#abalone9_18-3" id="toc-abalone9_18-3" class="nav-link" data-scroll-target="#abalone9_18-3">abalone9_18</a></li>
  <li><a href="#page_blocks_1_3_4-3" id="toc-page_blocks_1_3_4-3" class="nav-link" data-scroll-target="#page_blocks_1_3_4-3">page_blocks_1_3_4</a></li>
  <li><a href="#glass_0_1_6_vs_2-3" id="toc-glass_0_1_6_vs_2-3" class="nav-link" data-scroll-target="#glass_0_1_6_vs_2-3">glass_0_1_6_vs_2</a></li>
  <li><a href="#glass_0_1_4_6_vs_2-3" id="toc-glass_0_1_4_6_vs_2-3" class="nav-link" data-scroll-target="#glass_0_1_4_6_vs_2-3">glass_0_1_4_6_vs_2</a></li>
  <li><a href="#abalone19_peque-3" id="toc-abalone19_peque-3" class="nav-link" data-scroll-target="#abalone19_peque-3">abalone19_peque</a></li>
  <li><a href="#glass2-3" id="toc-glass2-3" class="nav-link" data-scroll-target="#glass2-3">glass2</a></li>
  <li><a href="#page-blocks0-3" id="toc-page-blocks0-3" class="nav-link" data-scroll-target="#page-blocks0-3">page-blocks0</a>
  <ul class="collapse">
  <li><a href="#page_blocks0_1-2" id="toc-page_blocks0_1-2" class="nav-link" data-scroll-target="#page_blocks0_1-2">page_blocks0_1</a></li>
  <li><a href="#page_blocks0_2-2" id="toc-page_blocks0_2-2" class="nav-link" data-scroll-target="#page_blocks0_2-2">page_blocks0_2</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#adasyn" id="toc-adasyn" class="nav-link" data-scroll-target="#adasyn">ADASYN</a>
  <ul>
  <li><a href="#abalone9_18-4" id="toc-abalone9_18-4" class="nav-link" data-scroll-target="#abalone9_18-4">abalone9_18</a></li>
  <li><a href="#page_blocks_1_3_4-4" id="toc-page_blocks_1_3_4-4" class="nav-link" data-scroll-target="#page_blocks_1_3_4-4">page_blocks_1_3_4</a></li>
  <li><a href="#glass_0_1_6_vs_2-4" id="toc-glass_0_1_6_vs_2-4" class="nav-link" data-scroll-target="#glass_0_1_6_vs_2-4">glass_0_1_6_vs_2</a></li>
  <li><a href="#glass_0_1_4_6_vs_2-4" id="toc-glass_0_1_4_6_vs_2-4" class="nav-link" data-scroll-target="#glass_0_1_4_6_vs_2-4">glass_0_1_4_6_vs_2</a></li>
  <li><a href="#abalone19_peque-4" id="toc-abalone19_peque-4" class="nav-link" data-scroll-target="#abalone19_peque-4">abalone19_peque</a></li>
  <li><a href="#glass2-4" id="toc-glass2-4" class="nav-link" data-scroll-target="#glass2-4">glass2</a></li>
  <li><a href="#page-blocks0-4" id="toc-page-blocks0-4" class="nav-link" data-scroll-target="#page-blocks0-4">page-blocks0</a>
  <ul class="collapse">
  <li><a href="#page_blocks0_1-3" id="toc-page_blocks0_1-3" class="nav-link" data-scroll-target="#page_blocks0_1-3">page_blocks0_1</a></li>
  <li><a href="#page_blocks0_2-3" id="toc-page_blocks0_2-3" class="nav-link" data-scroll-target="#page_blocks0_2-3">page_blocks0_2</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#safe-level-smote-1" id="toc-safe-level-smote-1" class="nav-link" data-scroll-target="#safe-level-smote-1">Safe-Level SMOTE</a>
  <ul>
  <li><a href="#abalone9_18-5" id="toc-abalone9_18-5" class="nav-link" data-scroll-target="#abalone9_18-5">abalone9_18</a></li>
  <li><a href="#page_blocks_1_3_4-5" id="toc-page_blocks_1_3_4-5" class="nav-link" data-scroll-target="#page_blocks_1_3_4-5">page_blocks_1_3_4</a></li>
  <li><a href="#glass_0_1_6_vs_2-5" id="toc-glass_0_1_6_vs_2-5" class="nav-link" data-scroll-target="#glass_0_1_6_vs_2-5">glass_0_1_6_vs_2</a></li>
  <li><a href="#glass_0_1_4_6_vs_2-5" id="toc-glass_0_1_4_6_vs_2-5" class="nav-link" data-scroll-target="#glass_0_1_4_6_vs_2-5">glass_0_1_4_6_vs_2</a></li>
  <li><a href="#abalone19_peque-5" id="toc-abalone19_peque-5" class="nav-link" data-scroll-target="#abalone19_peque-5">abalone19_peque</a></li>
  <li><a href="#glass2-5" id="toc-glass2-5" class="nav-link" data-scroll-target="#glass2-5">glass2</a></li>
  <li><a href="#page-blocks0-5" id="toc-page-blocks0-5" class="nav-link" data-scroll-target="#page-blocks0-5">page-blocks0</a>
  <ul class="collapse">
  <li><a href="#page_blocks0_1-4" id="toc-page_blocks0_1-4" class="nav-link" data-scroll-target="#page_blocks0_1-4">page_blocks0_1</a></li>
  <li><a href="#page_blocks0_2-4" id="toc-page_blocks0_2-4" class="nav-link" data-scroll-target="#page_blocks0_2-4">page_blocks0_2</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#dbsmote-1" id="toc-dbsmote-1" class="nav-link" data-scroll-target="#dbsmote-1">DBSMOTE</a>
  <ul>
  <li><a href="#abalone9_18-6" id="toc-abalone9_18-6" class="nav-link" data-scroll-target="#abalone9_18-6">abalone9_18</a></li>
  <li><a href="#page_blocks_1_3_4-6" id="toc-page_blocks_1_3_4-6" class="nav-link" data-scroll-target="#page_blocks_1_3_4-6">page_blocks_1_3_4</a></li>
  <li><a href="#glass_0_1_6_vs_2-6" id="toc-glass_0_1_6_vs_2-6" class="nav-link" data-scroll-target="#glass_0_1_6_vs_2-6">glass_0_1_6_vs_2</a></li>
  <li><a href="#glass_0_1_4_6_vs_2-6" id="toc-glass_0_1_4_6_vs_2-6" class="nav-link" data-scroll-target="#glass_0_1_4_6_vs_2-6">glass_0_1_4_6_vs_2</a></li>
  <li><a href="#abalone19_peque-6" id="toc-abalone19_peque-6" class="nav-link" data-scroll-target="#abalone19_peque-6">abalone19_peque</a></li>
  <li><a href="#glass2-6" id="toc-glass2-6" class="nav-link" data-scroll-target="#glass2-6">glass2</a></li>
  <li><a href="#page-blocks0-6" id="toc-page-blocks0-6" class="nav-link" data-scroll-target="#page-blocks0-6">page-blocks0</a>
  <ul class="collapse">
  <li><a href="#page_blocks0_1-5" id="toc-page_blocks0_1-5" class="nav-link" data-scroll-target="#page_blocks0_1-5">page_blocks0_1</a></li>
  <li><a href="#page_blocks0_2-5" id="toc-page_blocks0_2-5" class="nav-link" data-scroll-target="#page_blocks0_2-5">page_blocks0_2</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#mwmote" id="toc-mwmote" class="nav-link" data-scroll-target="#mwmote">MWMOTE</a>
  <ul>
  <li><a href="#abalone9_18-7" id="toc-abalone9_18-7" class="nav-link" data-scroll-target="#abalone9_18-7">abalone9_18</a></li>
  <li><a href="#page_blocks_1_3_4-7" id="toc-page_blocks_1_3_4-7" class="nav-link" data-scroll-target="#page_blocks_1_3_4-7">page_blocks_1_3_4</a></li>
  <li><a href="#glass_0_1_6_vs_2-7" id="toc-glass_0_1_6_vs_2-7" class="nav-link" data-scroll-target="#glass_0_1_6_vs_2-7">glass_0_1_6_vs_2</a></li>
  <li><a href="#glass_0_1_4_6_vs_2-7" id="toc-glass_0_1_4_6_vs_2-7" class="nav-link" data-scroll-target="#glass_0_1_4_6_vs_2-7">glass_0_1_4_6_vs_2</a></li>
  <li><a href="#abalone19_peque-7" id="toc-abalone19_peque-7" class="nav-link" data-scroll-target="#abalone19_peque-7">abalone19_peque</a></li>
  <li><a href="#glass2-7" id="toc-glass2-7" class="nav-link" data-scroll-target="#glass2-7">glass2</a></li>
  <li><a href="#page_blocks0" id="toc-page_blocks0" class="nav-link" data-scroll-target="#page_blocks0">page_blocks0</a>
  <ul class="collapse">
  <li><a href="#page_blocks0_1-6" id="toc-page_blocks0_1-6" class="nav-link" data-scroll-target="#page_blocks0_1-6">page_blocks0_1</a></li>
  <li><a href="#page_blocks0_2-6" id="toc-page_blocks0_2-6" class="nav-link" data-scroll-target="#page_blocks0_2-6">page_blocks0_2</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#mdo" id="toc-mdo" class="nav-link" data-scroll-target="#mdo">MDO</a>
  <ul>
  <li><a href="#abalone9_18-8" id="toc-abalone9_18-8" class="nav-link" data-scroll-target="#abalone9_18-8">abalone9_18</a></li>
  <li><a href="#page_blocks_1_3_4-8" id="toc-page_blocks_1_3_4-8" class="nav-link" data-scroll-target="#page_blocks_1_3_4-8">page_blocks_1_3_4</a></li>
  <li><a href="#glass_0_1_6_vs_2-8" id="toc-glass_0_1_6_vs_2-8" class="nav-link" data-scroll-target="#glass_0_1_6_vs_2-8">glass_0_1_6_vs_2</a></li>
  <li><a href="#glass_0_1_4_6_vs_2-8" id="toc-glass_0_1_4_6_vs_2-8" class="nav-link" data-scroll-target="#glass_0_1_4_6_vs_2-8">glass_0_1_4_6_vs_2</a></li>
  <li><a href="#abalone19_peque-8" id="toc-abalone19_peque-8" class="nav-link" data-scroll-target="#abalone19_peque-8">abalone19_peque</a></li>
  <li><a href="#glass2-8" id="toc-glass2-8" class="nav-link" data-scroll-target="#glass2-8">glass2</a></li>
  <li><a href="#page-blocks0-7" id="toc-page-blocks0-7" class="nav-link" data-scroll-target="#page-blocks0-7">page-blocks0</a>
  <ul class="collapse">
  <li><a href="#page_blocks0_1-7" id="toc-page_blocks0_1-7" class="nav-link" data-scroll-target="#page_blocks0_1-7">page_blocks0_1</a></li>
  <li><a href="#page_blocks0_2-7" id="toc-page_blocks0_2-7" class="nav-link" data-scroll-target="#page_blocks0_2-7">page_blocks0_2</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#rose" id="toc-rose" class="nav-link" data-scroll-target="#rose">ROSE</a>
  <ul>
  <li><a href="#abalone9_18-9" id="toc-abalone9_18-9" class="nav-link" data-scroll-target="#abalone9_18-9">abalone9_18</a></li>
  <li><a href="#page_blocks_1_3_4-9" id="toc-page_blocks_1_3_4-9" class="nav-link" data-scroll-target="#page_blocks_1_3_4-9">page_blocks_1_3_4</a></li>
  <li><a href="#glass_0_1_6_vs_2-9" id="toc-glass_0_1_6_vs_2-9" class="nav-link" data-scroll-target="#glass_0_1_6_vs_2-9">glass_0_1_6_vs_2</a></li>
  <li><a href="#glass_0_1_4_6_vs_2-9" id="toc-glass_0_1_4_6_vs_2-9" class="nav-link" data-scroll-target="#glass_0_1_4_6_vs_2-9">glass_0_1_4_6_vs_2</a></li>
  <li><a href="#abalone19_peque-9" id="toc-abalone19_peque-9" class="nav-link" data-scroll-target="#abalone19_peque-9">abalone19_peque</a></li>
  <li><a href="#page_blocks0_1-8" id="toc-page_blocks0_1-8" class="nav-link" data-scroll-target="#page_blocks0_1-8">page_blocks0_1</a></li>
  <li><a href="#page_blocks0_2-8" id="toc-page_blocks0_2-8" class="nav-link" data-scroll-target="#page_blocks0_2-8">page_blocks0_2</a></li>
  <li><a href="#glass2-9" id="toc-glass2-9" class="nav-link" data-scroll-target="#glass2-9">glass2</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Mètodes de balanceig</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Irene LiFeng Julià Pérez </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="mètodes-de-balanceig" class="level1">
<h1>Mètodes de balanceig</h1>
<p>En aquest document podem trobar tots els mètodes de balanceig implementats en R, així com la seva aplicació a totes les taules de dades.</p>
<section id="knn" class="level2">
<h2 class="anchored" data-anchor-id="knn">KNN</h2>
<p>La següent funció és imprescindible per la realització dels mètodes que venen a continuació. Donat l’índex d’una mostra i un conjunt de dades, aquesta funció tornarà els <span class="math inline">\(k\)</span> índexos de les mostres més properes a la mostra inicial.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>NN <span class="ot">&lt;-</span> <span class="cf">function</span>(X,o,k){</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># X: conjunt d'observacions</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># o: índex de la observació donada</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># k: nombre de veïns que es volen</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># output: vector dels k índexos dels veïns més pròxims</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>idx) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">where</span>(is.numeric))</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  D <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">dist</span>(<span class="fu">as.matrix</span>(df), <span class="at">method =</span> <span class="st">"euclidean"</span>, <span class="at">upper =</span> <span class="cn">TRUE</span>, <span class="at">diag =</span> <span class="cn">TRUE</span>))</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  X_idx <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">pull</span>(idx)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  i <span class="ot">&lt;-</span> <span class="fu">which</span>(X_idx <span class="sc">==</span> o)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  dists <span class="ot">&lt;-</span> D[<span class="sc">-</span>i,i]</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  dists_sort <span class="ot">=</span> <span class="fu">sort</span>(dists)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>  v <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">names</span>(dists_sort[<span class="dv">1</span><span class="sc">:</span>k]))</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>  nn <span class="ot">&lt;-</span> X_idx[v]</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(nn)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="algoritmes-de-balanceig" class="level1">
<h1>Algoritmes de balanceig</h1>
<section id="smote-synthetic-minotity-oversampling-technique" class="level2">
<h2 class="anchored" data-anchor-id="smote-synthetic-minotity-oversampling-technique">SMOTE (Synthetic Minotity Oversampling Technique)</h2>
<p>El mètode SMOTE <em>(Synthetic Minority Over-sampling Technique)</em> és un mètode de sobre mostreig. La idea principal és crear noves dades sintètiques de la classe minoritària mitjançant la interpolació entre algunes observacions que es troben “aprop”. D’aquesta manera s’estaran equilibrant les classes.</p>
<p>Vegem l’algoritme de l’SMOTE:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>SMOTE <span class="ot">&lt;-</span> <span class="cf">function</span>(X,N,k){</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># X: data frame desbalancejat</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># N: nombre de noves mostres</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># k: nombre de veïns que s'utilitzaran en k-NN</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># output: dataframe amb les noves observacions sintètiques</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># escollim la classe positiva:</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  X_pos <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Class <span class="sc">==</span> <span class="st">"positive"</span>)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  pos_idx <span class="ot">&lt;-</span> X_pos <span class="sc">%&gt;%</span> <span class="fu">pull</span>(idx)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Per una mostra es calculen els seus knn i es crearan k mostres noves mitjançant interpolació</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Per tant, hem d'escollir N/k mostres aleatories:</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  select_random <span class="ot">=</span> <span class="fu">sample</span>(pos_idx, <span class="fu">floor</span>(N<span class="sc">/</span>k), <span class="at">replace =</span> <span class="cn">FALSE</span>)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  new_dataset <span class="ot">&lt;-</span> X</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> select_random){               <span class="co"># Per cada una,</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    veins_j <span class="ot">&lt;-</span> <span class="fu">NN</span>(X_pos,j,k)          <span class="co"># Calculam els seus veïns</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>    kNN <span class="ot">&lt;-</span> X_pos <span class="sc">%&gt;%</span> </span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(idx <span class="sc">%in%</span> veins_j) <span class="sc">%&gt;%</span> </span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx,Class))               <span class="co"># escollim les variables numèriques</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>    xj <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(idx<span class="sc">==</span>j) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx,Class))</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>    NN <span class="ot">&lt;-</span> <span class="fu">rbind</span>(xj, kNN)</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (q <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span>(k<span class="sc">+</span><span class="dv">1</span>)){                   <span class="co"># per cada veí</span></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>      dif <span class="ot">=</span> NN[q,]<span class="sc">-</span>NN[<span class="dv">1</span>,]                 <span class="co"># calculam el vector posició</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>      NN <span class="ot">=</span> <span class="fu">rbind</span>(NN,NN[<span class="dv">1</span>,]<span class="sc">+</span><span class="fu">runif</span>(<span class="dv">1</span>)<span class="sc">*</span>dif)  <span class="co"># Cream una nova mostra sintètica</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>    datos_sinteticos <span class="ot">&lt;-</span> NN[<span class="fu">c</span>((k<span class="sc">+</span><span class="dv">2</span>)<span class="sc">:</span>(<span class="dv">2</span><span class="sc">*</span>k<span class="sc">+</span><span class="dv">1</span>)),] <span class="sc">%&gt;%</span> </span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">idx =</span> <span class="dv">0</span>, <span class="at">Class =</span> <span class="st">"positive"</span>) <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(idx)</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>    new_dataset <span class="ot">&lt;-</span> <span class="fu">rbind</span>(new_dataset, datos_sinteticos) <span class="co"># afegim les mostres sintètiques al nou dataset</span></span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(new_dataset)</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="borderline-smote" class="level2">
<h2 class="anchored" data-anchor-id="borderline-smote">Borderline-SMOTE</h2>
<p>Les mostres que cauen en les regions límits són més propenses a ser mal classificades. Per això aquest métode utilitzarà la tècnica de sobremostreig SMOTE per generar mostres sintètiques de la classe minoritària que es trobin en la frontera. D’aquesta manera es definirà millor els límits de la classe positiva.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>Danger <span class="ot">&lt;-</span> <span class="cf">function</span>(X, k){</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># X: dataset sencer</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># k: nombre de veïns</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># output: llista dels índexos de les mostres </span><span class="al">DANGER</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  X_pos <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Class <span class="sc">==</span> <span class="st">"positive"</span>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  pos_idx <span class="ot">&lt;-</span> X_pos <span class="sc">%&gt;%</span> <span class="fu">pull</span>(idx)</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  peligro <span class="ot">=</span> <span class="fu">c</span>()</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (o <span class="cf">in</span> pos_idx) {</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    veins_o <span class="ot">&lt;-</span> <span class="fu">NN</span>(X,o,k)</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    df_m <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> </span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(idx <span class="sc">%in%</span> veins_o) <span class="sc">%&gt;%</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(Class) <span class="sc">%&gt;%</span> </span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">summarise</span>(<span class="at">count =</span> <span class="fu">n</span>(), <span class="at">.groups =</span> <span class="st">"drop"</span>)<span class="sc">%&gt;%</span> </span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(Class<span class="sc">==</span><span class="st">"negative"</span>)</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(<span class="fu">nrow</span>(df_m)<span class="sc">==</span><span class="dv">0</span>){</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>      m <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span>{</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>      m <span class="ot">=</span> df_m <span class="sc">%&gt;%</span> <span class="fu">pull</span>(count)</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(m<span class="sc">&gt;=</span><span class="fu">ceiling</span>(k<span class="sc">/</span><span class="dv">2</span>) <span class="sc">&amp;&amp;</span> m<span class="sc">!=</span>k){</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>      peligro[<span class="fu">length</span>(peligro)<span class="sc">+</span><span class="dv">1</span>] <span class="ot">=</span> o</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(peligro)</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>BorderlineSMOTE <span class="ot">&lt;-</span> <span class="cf">function</span>(X, k){</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># X: data frame desbalancejat</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># k: nombre de veïns que s'utilitzaran en k-NN</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># output: dataframe amb les noves observacions sintètiques (k*length(perills) noves mostres)</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  Perills <span class="ot">&lt;-</span> <span class="fu">Danger</span>(X,k)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># escollim la classe positiva:</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  X_pos <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> </span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Class <span class="sc">==</span> <span class="st">"positive"</span>)</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>  pos_idx <span class="ot">&lt;-</span> X_pos <span class="sc">%&gt;%</span> <span class="fu">pull</span>(idx)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>  new_dataset <span class="ot">&lt;-</span> X</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (j <span class="cf">in</span> Perills){                     <span class="co"># Per cada una,</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    veins <span class="ot">&lt;-</span> <span class="fu">NN</span>(X_pos,j,k)                <span class="co"># Calculam els seus veïns</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    NN_j <span class="ot">&lt;-</span> X_pos <span class="sc">%&gt;%</span> </span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(idx <span class="sc">%in%</span> <span class="fu">c</span>(j,veins)) <span class="sc">%&gt;%</span> </span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>      dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx,Class))               <span class="co"># escollim les variables numèriques</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (q <span class="cf">in</span> <span class="dv">2</span><span class="sc">:</span>(k<span class="sc">+</span><span class="dv">1</span>)){                   <span class="co"># per cada veí</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>      dif <span class="ot">=</span> NN_j[q,]<span class="sc">-</span>NN_j[<span class="dv">1</span>,]                 <span class="co"># calculam el vector posició</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>      NN_j <span class="ot">=</span> <span class="fu">rbind</span>(NN_j,NN_j[<span class="dv">1</span>,]<span class="sc">+</span><span class="fu">runif</span>(<span class="dv">1</span>)<span class="sc">*</span>dif)  <span class="co"># Cream una nova mostra sintètica</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    datos_sinteticos <span class="ot">&lt;-</span> NN_j[<span class="fu">c</span>((k<span class="sc">+</span><span class="dv">2</span>)<span class="sc">:</span>(<span class="dv">2</span><span class="sc">*</span>k<span class="sc">+</span><span class="dv">1</span>)),] <span class="sc">%&gt;%</span> </span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">idx =</span> <span class="dv">0</span>, <span class="at">Class =</span> <span class="st">"positive"</span>) <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(idx)</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>    new_dataset <span class="ot">&lt;-</span> <span class="fu">rbind</span>(new_dataset, datos_sinteticos) <span class="co"># afegim les mostres sintètiques al nou dataset</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(new_dataset)</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="adoms-adjusting-the-direction-of-the-synthetic-minority-class-examples" class="level2">
<h2 class="anchored" data-anchor-id="adoms-adjusting-the-direction-of-the-synthetic-minority-class-examples">ADOMS (Adjusting the Direction of the Synthetic Minority Class Examples)</h2>
<p>El mètode ADOMS proposa crear nous exemples sintètics al llarg de la primera component principal d’un espai de dades local.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>ADOMS <span class="ot">&lt;-</span> <span class="cf">function</span>(X, k, N){</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># X: data frame desbalancejat</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># k: nombre de veïns que s'utilitzaran en k-NN</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># N: nombre de dades sintètiques que es volen generar</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># output: dataframe amb les noves observacions sintètiques</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># escollim la classe positiva:</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  X_pos <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> </span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Class <span class="sc">==</span> <span class="st">"positive"</span>)</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  pos_idx <span class="ot">&lt;-</span> X_pos <span class="sc">%&gt;%</span> <span class="fu">pull</span>(idx)</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>  new_dataset <span class="ot">&lt;-</span> X</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (M <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span>N)){</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    I <span class="ot">&lt;-</span> <span class="fu">sample</span>(pos_idx,<span class="dv">1</span>) <span class="co"># escollim una mostra positiva al atzar</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    mostraI <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(idx <span class="sc">==</span> I) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx,Class))</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>    knnI <span class="ot">&lt;-</span> <span class="fu">NN</span>(X,I,k) <span class="co"># calculam els seus knn</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>    NN <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> </span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>        <span class="fu">filter</span>(idx <span class="sc">%in%</span> <span class="fu">c</span>(I,knnI)) <span class="sc">%&gt;%</span> <span class="co"># cream un tibble amb la mostra I-èssima i els seus knn</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>        dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx,Class))      <span class="co"># escollim les variables numèriques</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># ara miram que cap variable sigui constant, ja que quan facem ACP, necessitam que sa desviació típica sigui diferent de 0</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>    eliminate <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>    valors <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>    noms <span class="ot">&lt;-</span> <span class="fu">names</span>(NN)</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(NN))) { <span class="co"># si alguna variable és cte, ie, max=min, la eliminam:</span></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>(<span class="fu">max</span>(NN[,i]) <span class="sc">==</span> <span class="fu">min</span>(NN[,i])){</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>        eliminate[<span class="fu">length</span>(eliminate)<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> i</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>        valors[<span class="fu">length</span>(valors)<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fu">max</span>(NN[,i])</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>    NN <span class="ot">&lt;-</span> NN <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">names</span>(NN)[eliminate])</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>    <span class="co"># a continucació feim ACP</span></span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>    NN.acp <span class="ot">&lt;-</span> <span class="fu">prcomp</span>(NN, <span class="at">scale =</span> <span class="cn">TRUE</span>, <span class="at">center =</span> <span class="cn">TRUE</span>) <span class="co"># Realitzam un ACP</span></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>    cp1 <span class="ot">&lt;-</span> NN.acp<span class="sc">$</span>rotation[,<span class="dv">1</span>] <span class="co"># coordenades de la primera component principal</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>    veialeatori <span class="ot">&lt;-</span> <span class="fu">sample</span>(knnI,<span class="dv">1</span>) <span class="co"># escollim un dels knn aleatoriament</span></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>    mostra <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(idx <span class="sc">%in%</span> <span class="fu">c</span>(I,veialeatori)) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx,Class))</span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>    mi <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(idx <span class="sc">==</span> veialeatori) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx,Class))</span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>(<span class="fu">length</span>(eliminate)<span class="sc">!=</span> <span class="dv">0</span>){</span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>      mi <span class="ot">&lt;-</span> mi <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>noms[eliminate])</span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>      mostraI <span class="ot">&lt;-</span> mostraI <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>noms[eliminate])</span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>    d <span class="ot">&lt;-</span> <span class="fu">dist</span>(mostra) <span class="co"># calculam la distancia entre l'I-èssim i el vei aleatoriç</span></span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>    t <span class="ot">&lt;-</span> <span class="sc">-</span>(<span class="fu">sum</span>(mi<span class="sc">*</span>cp1)<span class="sc">/</span><span class="fu">sum</span>(cp1<span class="sc">^</span><span class="dv">2</span>))</span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>    mi_projCP1 <span class="ot">&lt;-</span> mi <span class="sc">+</span> t<span class="sc">*</span>cp1 <span class="co"># projecció sobre la CP1</span></span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a>    dif <span class="ot">&lt;-</span> mostraI <span class="sc">-</span> mi_projCP1</span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>    s <span class="ot">=</span> <span class="fu">runif</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>) <span class="co"># generam un nombre aleaotri entre 0 i 1</span></span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>    norm_dif <span class="ot">&lt;-</span> <span class="fu">dist</span>(<span class="fu">rbind</span>(mostraI,mi_projCP1))</span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(d<span class="sc">*</span>s <span class="sc">&lt;</span> norm_dif){</span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>      nova_dada <span class="ot">&lt;-</span> mi_projCP1 <span class="sc">+</span> <span class="fu">as.numeric</span>((norm_dif<span class="sc">-</span>d<span class="sc">*</span>s)<span class="sc">/</span>(norm_dif))<span class="sc">*</span>dif </span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span>{</span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a>      nova_dada <span class="ot">&lt;-</span> mi_projCP1 <span class="sc">+</span> <span class="fu">as.numeric</span>((norm_dif<span class="sc">+</span>d<span class="sc">*</span>s)<span class="sc">/</span>(norm_dif))<span class="sc">*</span>dif</span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-72"><a href="#cb5-72" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-73"><a href="#cb5-73" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-74"><a href="#cb5-74" aria-hidden="true" tabindex="-1"></a>    count <span class="ot">=</span> <span class="dv">1</span></span>
<span id="cb5-75"><a href="#cb5-75" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> eliminate){</span>
<span id="cb5-76"><a href="#cb5-76" aria-hidden="true" tabindex="-1"></a>      elimin <span class="ot">=</span> <span class="fu">as.data.frame</span>(valors[count])</span>
<span id="cb5-77"><a href="#cb5-77" aria-hidden="true" tabindex="-1"></a>      <span class="fu">names</span>(elimin)<span class="ot">=</span>noms[i]</span>
<span id="cb5-78"><a href="#cb5-78" aria-hidden="true" tabindex="-1"></a>      elimin<span class="ot">=</span><span class="fu">as_tibble</span>(elimin)</span>
<span id="cb5-79"><a href="#cb5-79" aria-hidden="true" tabindex="-1"></a>      nova_dada <span class="ot">&lt;-</span> <span class="fu">cbind</span>(nova_dada, elimin)</span>
<span id="cb5-80"><a href="#cb5-80" aria-hidden="true" tabindex="-1"></a>      count <span class="ot">=</span> count <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb5-81"><a href="#cb5-81" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-82"><a href="#cb5-82" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-83"><a href="#cb5-83" aria-hidden="true" tabindex="-1"></a>    dada_sintetica <span class="ot">&lt;-</span> nova_dada <span class="sc">%&gt;%</span> as_tibble <span class="sc">%&gt;%</span> </span>
<span id="cb5-84"><a href="#cb5-84" aria-hidden="true" tabindex="-1"></a>      <span class="fu">mutate</span>(<span class="at">idx =</span> <span class="dv">0</span>, <span class="at">Class =</span> <span class="st">"positive"</span>) <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(<span class="fu">any_of</span>(<span class="fu">names</span>(X)))</span>
<span id="cb5-85"><a href="#cb5-85" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-86"><a href="#cb5-86" aria-hidden="true" tabindex="-1"></a>    new_dataset <span class="ot">&lt;-</span> <span class="fu">rbind</span>(new_dataset, dada_sintetica) <span class="co"># afegim les mostres sintètiques al nou dataset</span></span>
<span id="cb5-87"><a href="#cb5-87" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-88"><a href="#cb5-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(new_dataset)</span>
<span id="cb5-89"><a href="#cb5-89" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="adasyn-adaptative-synthetic-sampling-approach" class="level2">
<h2 class="anchored" data-anchor-id="adasyn-adaptative-synthetic-sampling-approach">ADASYN (Adaptative Synthetic Sampling Approach)</h2>
<p>ADASYN està bassat en la idea de generar exemples minoritaris per a cada mostra en funció de la seva distribució. Per aquelles dades que són més dificils d’aprendre, es generaran més dades sintetiques que en aquells exemples que són més fàcils.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>ADASYN <span class="ot">&lt;-</span> <span class="cf">function</span>(X, k, b, dth){</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># X: data frame desbalancejat</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># k: nombre de veïns que s'utilitzaran en k-NN</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># b: nivell de desbalanceig que es vol. b\in(0,1), on b=1 indica un dataframe totalmet balancejat</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># dth: umbral de màxim de tolerància del grau de balanceig</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># output: dataframe amb les noves observacions sintètiques</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>  new_data <span class="ot">&lt;-</span> X</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>  ms <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Class <span class="sc">==</span> <span class="st">"positive"</span>) <span class="sc">%&gt;%</span>   </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">nrow</span>() <span class="co"># nombre d'expemples de la classe positiva</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>  ml <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Class <span class="sc">==</span> <span class="st">"negative"</span>) <span class="sc">%&gt;%</span>   </span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">nrow</span>() <span class="co"># nombre d'expemples de la classe negativa</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>  d <span class="ot">&lt;-</span> ms<span class="sc">/</span>ml  <span class="co"># degree of class imbalance</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">while</span>(d <span class="sc">&lt;</span> dth){</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>    G <span class="ot">&lt;-</span> <span class="fu">floor</span>((ml<span class="sc">-</span>ms)<span class="sc">*</span>b) <span class="co"># nombre de dades que es volen generar</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>    X_pos_idx <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Class <span class="sc">==</span> <span class="st">"positive"</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(idx)</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>    X_neg_idx <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Class <span class="sc">==</span> <span class="st">"negative"</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(idx)</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>    df_neg <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(X_pos_idx)</span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>    <span class="fu">names</span>(df_neg) <span class="ot">&lt;-</span> <span class="st">"idx_pos"</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>    r_i <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (x <span class="cf">in</span> X_pos_idx){</span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>      NN_x <span class="ot">&lt;-</span> <span class="fu">NN</span>(X,x,k)</span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>      delta_i <span class="ot">&lt;-</span> <span class="fu">sum</span>(NN_x <span class="sc">%in%</span> X_neg_idx) <span class="co"># nombre d'exemples kNN de x que pertanyen a la classe majoritària</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>      n_pos <span class="ot">&lt;-</span> k<span class="sc">-</span>delta_i <span class="co"># nombre d'exemples kNN de x que pertanyen a la classe minoritària</span></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>      <span class="co"># num_pos[length(num_pos)+1] &lt;- n_pos</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>      r_i[<span class="fu">length</span>(r_i)<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> delta_i<span class="sc">/</span>k</span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>    r_inorm <span class="ot">&lt;-</span> r_i<span class="sc">/</span><span class="fu">sum</span>(r_i)</span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>    g_i <span class="ot">&lt;-</span> G<span class="sc">*</span>r_inorm</span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>    df_neg <span class="ot">&lt;-</span> df_neg <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">r =</span> r_i, <span class="at">r_norm =</span> r_inorm, <span class="at">dades_a_generar =</span> g_i)</span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span>(x <span class="cf">in</span> X_pos_idx){</span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>      mostra_x <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(idx <span class="sc">==</span> x) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx,Class))</span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>      g <span class="ot">&lt;-</span> df_neg <span class="sc">%&gt;%</span> <span class="fu">filter</span>(idx_pos <span class="sc">==</span> x) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(dades_a_generar) <span class="co"># nombre de dades que generarem per a la mostra x</span></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>      g <span class="ot">&lt;-</span> <span class="fu">round</span>(g)</span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>      NN_x <span class="ot">&lt;-</span> <span class="fu">NN</span>(X,x,k)</span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>      idx_pos_NN <span class="ot">&lt;-</span> NN_x[<span class="fu">which</span>(NN_x <span class="sc">%in%</span> X_pos_idx)]</span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>(<span class="fu">length</span>(idx_pos_NN) <span class="sc">==</span> <span class="dv">1</span>){</span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a>        mostra_random <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(idx <span class="sc">==</span> idx_pos_NN) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx,Class))</span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(g<span class="sc">&gt;=</span><span class="dv">1</span>){</span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a>          <span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span>g)){</span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>            new_mostra <span class="ot">&lt;-</span> mostra_x <span class="sc">+</span> (mostra_random <span class="sc">-</span> mostra_x)<span class="sc">*</span><span class="fu">runif</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a>            s <span class="ot">&lt;-</span> new_mostra <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">idx =</span> <span class="dv">0</span>, <span class="at">Class =</span> <span class="st">"positive"</span>) <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(idx)</span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a>            new_data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(new_data, s)</span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb6-58"><a href="#cb6-58" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb6-59"><a href="#cb6-59" aria-hidden="true" tabindex="-1"></a>      }<span class="cf">else</span> <span class="cf">if</span>(<span class="fu">length</span>(idx_pos_NN) <span class="sc">&gt;</span> <span class="dv">1</span>){</span>
<span id="cb6-60"><a href="#cb6-60" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(g<span class="sc">&gt;=</span><span class="dv">1</span>){</span>
<span id="cb6-61"><a href="#cb6-61" aria-hidden="true" tabindex="-1"></a>          <span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span>g)){</span>
<span id="cb6-62"><a href="#cb6-62" aria-hidden="true" tabindex="-1"></a>            idx_aleatori <span class="ot">&lt;-</span> <span class="fu">sample</span>(idx_pos_NN,<span class="dv">1</span>)</span>
<span id="cb6-63"><a href="#cb6-63" aria-hidden="true" tabindex="-1"></a>            mostra_random <span class="ot">&lt;-</span> mostra_random <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(idx <span class="sc">==</span> idx_aleatori) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx,Class))</span>
<span id="cb6-64"><a href="#cb6-64" aria-hidden="true" tabindex="-1"></a>            new_mostra <span class="ot">&lt;-</span> mostra_x <span class="sc">+</span> (mostra_random <span class="sc">-</span> mostra_x)<span class="sc">*</span><span class="fu">runif</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb6-65"><a href="#cb6-65" aria-hidden="true" tabindex="-1"></a>            s <span class="ot">&lt;-</span> new_mostra <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">idx =</span> <span class="dv">0</span>, <span class="at">Class =</span> <span class="st">"positive"</span>) <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(idx)</span>
<span id="cb6-66"><a href="#cb6-66" aria-hidden="true" tabindex="-1"></a>            new_data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(new_data, s)</span>
<span id="cb6-67"><a href="#cb6-67" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb6-68"><a href="#cb6-68" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb6-69"><a href="#cb6-69" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb6-70"><a href="#cb6-70" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb6-71"><a href="#cb6-71" aria-hidden="true" tabindex="-1"></a>    ms <span class="ot">&lt;-</span> new_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Class <span class="sc">==</span> <span class="st">"positive"</span>) <span class="sc">%&gt;%</span>   </span>
<span id="cb6-72"><a href="#cb6-72" aria-hidden="true" tabindex="-1"></a>    <span class="fu">nrow</span>() <span class="co"># nombre d'expemples de la classe positiva</span></span>
<span id="cb6-73"><a href="#cb6-73" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-74"><a href="#cb6-74" aria-hidden="true" tabindex="-1"></a>    ml <span class="ot">&lt;-</span> new_data <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Class <span class="sc">==</span> <span class="st">"negative"</span>) <span class="sc">%&gt;%</span>   </span>
<span id="cb6-75"><a href="#cb6-75" aria-hidden="true" tabindex="-1"></a>    <span class="fu">nrow</span>() <span class="co"># nombre d'expemples de la classe negativa</span></span>
<span id="cb6-76"><a href="#cb6-76" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-77"><a href="#cb6-77" aria-hidden="true" tabindex="-1"></a>    d <span class="ot">&lt;-</span> ms<span class="sc">/</span>ml  <span class="co"># degree of class imbalance</span></span>
<span id="cb6-78"><a href="#cb6-78" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-79"><a href="#cb6-79" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(new_data)</span>
<span id="cb6-80"><a href="#cb6-80" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="safe-level-smote" class="level2">
<h2 class="anchored" data-anchor-id="safe-level-smote">Safe-Level-SMOTE</h2>
<p>Abans de generar les dades sintètiques, a cada un dels exemples de la classe minoritària se li assigna el seu <em>nivell de seguretat</em> (safe level(sl)), on si sl és proper a 0, indica que la dada és renou, i si és proper a k, aquesta dada se li considerarà <em>segura</em>. A més, també se li assignarà un nivell de proporcionalitat, que està basat amb el nivell de seguretat dels seus veïns més pròxims</p>
<ul>
<li>safe level: <span class="math inline">\(sl=\)</span> nombre de mostres positives entre els KNN</li>
<li>safe level ratio: $sl_ratio = $ <span class="math inline">\(sl\)</span> d’una mostra positiva / <span class="math inline">\(sl\)</span> d’un KNN seu</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>SL_SMOTE <span class="ot">&lt;-</span> <span class="cf">function</span>(X,k){</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  idx_pos <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Class <span class="sc">==</span> <span class="st">"positive"</span>) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(idx)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  solo_1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">sample</span>(idx_pos,<span class="dv">1</span>))</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  new_dataset <span class="ot">&lt;-</span> X</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (p <span class="cf">in</span> idx_pos){</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    KNN_p <span class="ot">&lt;-</span> <span class="fu">NN</span>(X,p,k)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    n <span class="ot">&lt;-</span> <span class="fu">sample</span>(KNN_p,<span class="dv">1</span>)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>    KNN_n <span class="ot">&lt;-</span> <span class="fu">NN</span>(X,n,k)</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>    sl_p <span class="ot">&lt;-</span> <span class="fu">sum</span>(KNN_p <span class="sc">%in%</span> idx_pos)</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    sl_n <span class="ot">&lt;-</span> <span class="fu">sum</span>(KNN_n <span class="sc">%in%</span> idx_pos)</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (sl_n <span class="sc">!=</span> <span class="dv">0</span>) {</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>      sl_ratio <span class="ot">&lt;-</span> sl_p<span class="sc">/</span>sl_n</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span>{</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>      sl_ratio <span class="ot">&lt;-</span> <span class="st">"inf"</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>    x_p <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(idx <span class="sc">==</span> p) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx,Class))</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>    x_n <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(idx <span class="sc">==</span> n) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx,Class))</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>    noms <span class="ot">&lt;-</span> <span class="fu">names</span>(x_p)</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    n_var <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx, Class)) <span class="sc">%&gt;%</span> ncol</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>    nova_dada <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">idx =</span> <span class="dv">0</span>, <span class="at">Class =</span> <span class="st">"positive"</span>)</span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(sl_ratio <span class="sc">!=</span> <span class="st">"inf"</span> <span class="sc">|</span> sl_p <span class="sc">!=</span> <span class="dv">0</span>){</span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> (m <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span>n_var)){</span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (sl_ratio <span class="sc">==</span> <span class="st">"inf"</span> <span class="sc">&amp;</span> sl_p <span class="sc">!=</span> <span class="dv">0</span>){</span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>          gap <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>        }<span class="cf">else</span> <span class="cf">if</span>(sl_ratio <span class="sc">==</span> <span class="dv">1</span>){</span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>          gap <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">1</span>)</span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>        }<span class="cf">else</span> <span class="cf">if</span>(sl_ratio <span class="sc">&gt;</span> <span class="dv">1</span>){</span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>          gap <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">1</span>, <span class="at">min =</span> <span class="dv">0</span>, <span class="at">max =</span> <span class="dv">1</span><span class="sc">/</span>sl_ratio)</span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>        }<span class="cf">else</span> <span class="cf">if</span>(sl_ratio <span class="sc">&lt;</span> <span class="dv">1</span>){</span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>          gap <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">1</span>, <span class="at">min =</span> <span class="dv">1</span><span class="sc">-</span>sl_ratio, <span class="at">max =</span> <span class="dv">1</span>)</span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>        dif <span class="ot">&lt;-</span> x_n[m] <span class="sc">-</span> x_p[m]</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>        nova_variable <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">as.numeric</span>(x_p[m] <span class="sc">+</span> gap <span class="sc">*</span> dif))</span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>        <span class="fu">names</span>(nova_variable) <span class="ot">&lt;-</span> noms[m]</span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>        nova_variable <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(nova_variable)</span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>        nova_dada <span class="ot">&lt;-</span> <span class="fu">cbind</span>(nova_dada,nova_variable)</span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span>{</span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>      <span class="cf">break</span></span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a>    dada_sintetica <span class="ot">&lt;-</span> nova_dada <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(<span class="fu">any_of</span>(<span class="fu">names</span>(X)))</span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a>    new_dataset <span class="ot">&lt;-</span> <span class="fu">rbind</span>(new_dataset, dada_sintetica)</span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(new_dataset)</span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="dbsmote" class="level2">
<h2 class="anchored" data-anchor-id="dbsmote">DBSMOTE</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>DBSMOTE <span class="ot">&lt;-</span> <span class="cf">function</span>(X, Eps, MinPts){</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  nou_dataset <span class="ot">&lt;-</span> X</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx,Class)) <span class="sc">%&gt;%</span> as.matrix</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  X <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> </span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Class <span class="sc">==</span> <span class="st">"positive"</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  df_pos <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> </span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(Class <span class="sc">==</span> <span class="st">"positive"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx,Class)) <span class="sc">%&gt;%</span> as.matrix</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Creamos los clusters con DBSCAN</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  dbscan_cluster <span class="ot">&lt;-</span> dbscan<span class="sc">::</span><span class="fu">dbscan</span>(<span class="at">x =</span> df_pos, <span class="at">eps =</span> Eps, <span class="at">minPts =</span> MinPts)</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Resultados de la asignación: print(table(dbscan_cluster$cluster))</span></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>  <span class="co"># creamos un dataframe con una variable que indique a que cluster pertenece</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  df_clusters <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">clusters =</span> dbscan_cluster<span class="sc">$</span>cluster)</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>  <span class="co">#df_clusters</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>  num_clusters <span class="ot">&lt;-</span> <span class="fu">sort</span>(<span class="fu">unique</span>(dbscan_cluster<span class="sc">$</span>cluster))[<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>  renou <span class="ot">&lt;-</span> df_clusters <span class="sc">%&gt;%</span> <span class="fu">filter</span>(clusters <span class="sc">==</span> <span class="dv">0</span>)</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Per cada cluster</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(num_clusters)){</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>    nodes_cluster_i <span class="ot">&lt;-</span> <span class="fu">which</span>(dbscan_cluster<span class="sc">$</span>cluster <span class="sc">==</span> i) <span class="co"># index de les mostres del cluster i</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>    <span class="co"># nodes_cluster_i</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>    matriu_adj_i <span class="ot">=</span> <span class="fu">matrix</span>(<span class="dv">0</span>, <span class="fu">length</span>(nodes_cluster_i), <span class="fu">length</span>(nodes_cluster_i)) <span class="co"># matriu d'adjacència</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>    <span class="fu">colnames</span>(matriu_adj_i) <span class="ot">=</span> nodes_cluster_i</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rownames</span>(matriu_adj_i) <span class="ot">=</span> nodes_cluster_i</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>    mostres_i <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">slice</span>(nodes_cluster_i) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx,Class))</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>    M <span class="ot">=</span> <span class="fu">as.matrix</span>(<span class="fu">dist</span>(mostres_i))              <span class="co"># matriu de distàncies</span></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (j <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(nodes_cluster_i))){</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>      NNj <span class="ot">&lt;-</span> <span class="fu">sum</span>(M[j,] <span class="sc">&lt;=</span> Eps)                  <span class="co"># nombre de mostres que hi ha dins l'entorn de radi Eps</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (NNj <span class="sc">&gt;=</span> MinPts){                       <span class="co"># si el nombre de mostres supera al MinPts</span></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> (k <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(matriu_adj_i))){</span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>          <span class="cf">if</span> (M[j,k] <span class="sc">&lt;=</span> Eps){</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>            matriu_adj_i[j,k] <span class="ot">&lt;-</span> M[j,k]</span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>          }<span class="cf">else</span>{</span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>            matriu_adj_i[j,k] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>      }<span class="cf">else</span>{</span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> (k <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">ncol</span>(matriu_adj_i))){</span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>          matriu_adj_i[j,k] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Cream un graf mitjançant la matriu d'adjacència</span></span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a>    G <span class="ot">&lt;-</span> <span class="fu">graph_from_adjacency_matrix</span>(matriu_adj_i, <span class="at">mode=</span><span class="st">'directed'</span>, <span class="at">weighted =</span> <span class="cn">TRUE</span>)</span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Cercam el pseudo-centre</span></span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a>    min <span class="ot">&lt;-</span> Eps<span class="sc">*</span><span class="fu">nrow</span>(matriu_adj_i)</span>
<span id="cb8-55"><a href="#cb8-55" aria-hidden="true" tabindex="-1"></a>    pseudo_centro <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb8-56"><a href="#cb8-56" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-57"><a href="#cb8-57" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(matriu_adj_i))){</span>
<span id="cb8-58"><a href="#cb8-58" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (<span class="fu">sum</span>(matriu_adj_i[i,]) <span class="sc">!=</span> <span class="dv">0</span>){</span>
<span id="cb8-59"><a href="#cb8-59" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (<span class="fu">sum</span>(matriu_adj_i[i,]) <span class="sc">&lt;</span> min){</span>
<span id="cb8-60"><a href="#cb8-60" aria-hidden="true" tabindex="-1"></a>          min <span class="ot">&lt;-</span> <span class="fu">sum</span>(matriu_adj_i[i,])</span>
<span id="cb8-61"><a href="#cb8-61" aria-hidden="true" tabindex="-1"></a>          pseudo_centro <span class="ot">&lt;-</span> <span class="fu">rownames</span>(matriu_adj_i)[i]</span>
<span id="cb8-62"><a href="#cb8-62" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb8-63"><a href="#cb8-63" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb8-64"><a href="#cb8-64" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb8-65"><a href="#cb8-65" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-66"><a href="#cb8-66" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Feim Dijkstra</span></span>
<span id="cb8-67"><a href="#cb8-67" aria-hidden="true" tabindex="-1"></a>    Dijkstra <span class="ot">&lt;-</span> <span class="fu">shortest.paths</span>(G, <span class="at">v =</span> pseudo_centro, <span class="at">to =</span> <span class="fu">V</span>(G), <span class="at">algorithm =</span> <span class="st">"dijkstra"</span>)</span>
<span id="cb8-68"><a href="#cb8-68" aria-hidden="true" tabindex="-1"></a>    Dijkstra_camins <span class="ot">&lt;-</span> <span class="fu">shortest_paths</span>(G, pseudo_centro, <span class="at">to =</span> <span class="fu">V</span>(G), <span class="at">algorithm =</span> <span class="st">"dijkstra"</span>, <span class="at">output =</span> <span class="st">"both"</span>)</span>
<span id="cb8-69"><a href="#cb8-69" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-70"><a href="#cb8-70" aria-hidden="true" tabindex="-1"></a>    index_centro <span class="ot">&lt;-</span> <span class="fu">which</span>(<span class="fu">names</span>(<span class="fu">V</span>(G)) <span class="sc">==</span> pseudo_centro)</span>
<span id="cb8-71"><a href="#cb8-71" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-72"><a href="#cb8-72" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">V</span>(G)){</span>
<span id="cb8-73"><a href="#cb8-73" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (i <span class="sc">!=</span> index_centro){</span>
<span id="cb8-74"><a href="#cb8-74" aria-hidden="true" tabindex="-1"></a>        cami_i <span class="ot">&lt;-</span> Dijkstra_camins<span class="sc">$</span>epath[[i]] <span class="co"># camí de dijkstra</span></span>
<span id="cb8-75"><a href="#cb8-75" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (<span class="fu">length</span>(cami_i) <span class="sc">==</span> <span class="dv">1</span>){ <span class="co"># només hi ha aresta</span></span>
<span id="cb8-76"><a href="#cb8-76" aria-hidden="true" tabindex="-1"></a>          origen <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">names</span>(Dijkstra_camins<span class="sc">$</span>vpath[[i]][<span class="dv">1</span>]))</span>
<span id="cb8-77"><a href="#cb8-77" aria-hidden="true" tabindex="-1"></a>          desti <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">names</span>(Dijkstra_camins<span class="sc">$</span>vpath[[i]][<span class="dv">2</span>]))</span>
<span id="cb8-78"><a href="#cb8-78" aria-hidden="true" tabindex="-1"></a>        }<span class="cf">else</span>{ <span class="co"># hi ha més arestes</span></span>
<span id="cb8-79"><a href="#cb8-79" aria-hidden="true" tabindex="-1"></a>          aresta_aleatoria <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(cami_i)), <span class="dv">1</span>) <span class="co"># escollim una aresta aleatoria</span></span>
<span id="cb8-80"><a href="#cb8-80" aria-hidden="true" tabindex="-1"></a>          origen <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">names</span>(Dijkstra_camins<span class="sc">$</span>vpath[[i]][aresta_aleatoria]))</span>
<span id="cb8-81"><a href="#cb8-81" aria-hidden="true" tabindex="-1"></a>          desti <span class="ot">&lt;-</span> origen <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">names</span>(Dijkstra_camins<span class="sc">$</span>vpath[[i]][aresta_aleatoria <span class="sc">+</span> <span class="dv">1</span>]))</span>
<span id="cb8-82"><a href="#cb8-82" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb8-83"><a href="#cb8-83" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-84"><a href="#cb8-84" aria-hidden="true" tabindex="-1"></a>        mostra_1 <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">slice</span>(origen)<span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx,Class))</span>
<span id="cb8-85"><a href="#cb8-85" aria-hidden="true" tabindex="-1"></a>        mostra_2 <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">slice</span>(desti)<span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx,Class))</span>
<span id="cb8-86"><a href="#cb8-86" aria-hidden="true" tabindex="-1"></a>        dif <span class="ot">&lt;-</span> mostra_2 <span class="sc">-</span> mostra_1</span>
<span id="cb8-87"><a href="#cb8-87" aria-hidden="true" tabindex="-1"></a>        gap <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>)</span>
<span id="cb8-88"><a href="#cb8-88" aria-hidden="true" tabindex="-1"></a>        nova_mostra <span class="ot">&lt;-</span> mostra_1 <span class="sc">+</span> gap<span class="sc">*</span>dif</span>
<span id="cb8-89"><a href="#cb8-89" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb8-90"><a href="#cb8-90" aria-hidden="true" tabindex="-1"></a>        mostra_sintetica <span class="ot">&lt;-</span> nova_mostra <span class="sc">%&gt;%</span> as_tibble <span class="sc">%&gt;%</span> </span>
<span id="cb8-91"><a href="#cb8-91" aria-hidden="true" tabindex="-1"></a>          <span class="fu">mutate</span>(<span class="at">idx =</span> <span class="dv">0</span>, <span class="at">Class =</span> <span class="st">"positive"</span>) <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(<span class="fu">any_of</span>(<span class="fu">names</span>(X)))</span>
<span id="cb8-92"><a href="#cb8-92" aria-hidden="true" tabindex="-1"></a>        nou_dataset <span class="ot">&lt;-</span> <span class="fu">rbind</span>(nou_dataset, mostra_sintetica)</span>
<span id="cb8-93"><a href="#cb8-93" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb8-94"><a href="#cb8-94" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb8-95"><a href="#cb8-95" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-96"><a href="#cb8-96" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(nou_dataset)</span>
<span id="cb8-97"><a href="#cb8-97" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="mwmote-majority-weighted-minority-oversampling-technique" class="level2">
<h2 class="anchored" data-anchor-id="mwmote-majority-weighted-minority-oversampling-technique">MWMOTE (Majority Weighted Minority Oversampling Technique)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>f <span class="ot">&lt;-</span> <span class="cf">function</span>(x,Cf_th){</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(x<span class="sc">&lt;=</span> Cf_th){</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(x)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span>{</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(Cf_th)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>Cf <span class="ot">&lt;-</span> <span class="cf">function</span>(X,x,y,Cf_th,CMAX){</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># X: data set</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># x: index de la mostra x</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># y: index de la mostra y</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Cf_th,CMAX: parametres</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>  mostra_x <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(idx <span class="sc">==</span> x) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx,Class))</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  mostra_y <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(idx <span class="sc">==</span> y) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx,Class))</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>  dist_xy <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">dist</span>(<span class="fu">rbind</span>(mostra_x,mostra_y)))</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>  l <span class="ot">&lt;-</span> <span class="fu">nrow</span>(mostra_x)</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>  dn <span class="ot">&lt;-</span> dist_xy<span class="sc">/</span>l</span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>((<span class="fu">f</span>(<span class="dv">1</span><span class="sc">/</span>dn, Cf_th)<span class="sc">/</span>(Cf_th))<span class="sc">*</span>CMAX)</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>Df <span class="ot">&lt;-</span> <span class="cf">function</span>(X,x,y,Cf_th,CMAX, S){</span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># X: data set</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># x: index de la mostra x</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># y: index de la mostra y</span></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Cf_th,CMAX: parametres</span></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>  <span class="co"># S: conjunt S_imin de MWMOTE</span></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>  a <span class="ot">&lt;-</span> <span class="fu">Cf</span>(X,x,y,Cf_th,CMAX)</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>  b <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (q <span class="cf">in</span> S){</span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>    b <span class="ot">&lt;-</span> b <span class="sc">+</span> <span class="fu">Cf</span>(X,q,y,Cf_th,CMAX)</span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(a<span class="sc">/</span>b)</span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>Iw <span class="ot">&lt;-</span> <span class="cf">function</span>(X,x,y, Cf_th, CMAX, S, k3){</span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a>  <span class="co"># X: data set</span></span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a>  <span class="co"># x: index de la mostra x</span></span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a>  <span class="co"># y: index de la mostra y</span></span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a>  <span class="co"># S: conjunt S_imin de MWMOTE</span></span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Output: Informative Weight</span></span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a>  X_pos_Iw <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Class <span class="sc">==</span> <span class="st">"positive"</span>)</span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a>  mostra_y_IW <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(idx <span class="sc">==</span> y)</span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a>  S_min_y_IW <span class="ot">&lt;-</span> <span class="fu">rbind</span>(X_pos_Iw, mostra_y_IW)</span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true" tabindex="-1"></a>  NN_min_y_IW <span class="ot">&lt;-</span> <span class="fu">NN</span>(S_min_y_IW, y, k3)</span>
<span id="cb9-54"><a href="#cb9-54" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-55"><a href="#cb9-55" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(x <span class="sc">%in%</span> NN_min_y_IW){</span>
<span id="cb9-56"><a href="#cb9-56" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="fu">Cf</span>(X,x,y,Cf_th,CMAX)<span class="sc">*</span><span class="fu">Df</span>(X,x,y,Cf_th,CMAX,S))</span>
<span id="cb9-57"><a href="#cb9-57" aria-hidden="true" tabindex="-1"></a>  }<span class="cf">else</span>{</span>
<span id="cb9-58"><a href="#cb9-58" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="dv">0</span>)</span>
<span id="cb9-59"><a href="#cb9-59" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-60"><a href="#cb9-60" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>MWMOTE <span class="ot">&lt;-</span> <span class="cf">function</span>(X,N,k1,k2,k3,Cf_th,CMAX, C_p){</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># X: Dataset desbalancejat</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># N: nombre d'exemples sintetics que es volen genrar</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># k1: Nombre de veins utilitzats per classificar els renous</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># k2: Nombre de veins negatius utilitzats per construir el 'minority set'</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># k3: Nombre de veins positius utilitzats per construir el 'minority set'</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Cf_th, CMAX, C_p: parametres</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  new_data <span class="ot">&lt;-</span> X</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  X_pos <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Class <span class="sc">==</span> <span class="st">"positive"</span>)</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  X_neg <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Class <span class="sc">==</span> <span class="st">"negative"</span>)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  X_posIdx <span class="ot">&lt;-</span> X_pos <span class="sc">%&gt;%</span> <span class="fu">pull</span>(idx)</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  S_minf <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  S_bmaj <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (o <span class="cf">in</span> X_posIdx){</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>    mostra_o <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(idx <span class="sc">==</span> o)</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>    NN_o <span class="ot">&lt;-</span> <span class="fu">NN</span>(X,o,k1)</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>    S_maj_o <span class="ot">&lt;-</span> <span class="fu">rbind</span>(X_neg, mostra_o)</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">sum</span>(NN_o <span class="sc">%in%</span> X_posIdx) <span class="sc">!=</span> <span class="dv">0</span>){</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>      S_minf[<span class="fu">length</span>(S_minf)<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> o</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>      NN_maj_o <span class="ot">&lt;-</span> <span class="fu">NN</span>(S_maj_o,o,k2)</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>      S_bmaj <span class="ot">&lt;-</span> <span class="fu">c</span>(S_bmaj,NN_maj_o)</span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>  S_bmaj <span class="ot">&lt;-</span> <span class="fu">unique</span>(S_bmaj)</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>  S_imin <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (y <span class="cf">in</span> S_bmaj){</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>    mostra_y <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(idx <span class="sc">==</span> y)</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>    S_min_y <span class="ot">&lt;-</span> <span class="fu">rbind</span>(X_pos, mostra_y)</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>    NN_min_y <span class="ot">&lt;-</span> <span class="fu">NN</span>(S_min_y, y, k3)</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>    S_imin <span class="ot">&lt;-</span> <span class="fu">c</span>(S_imin, NN_min_y)</span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>  S_imin <span class="ot">&lt;-</span> <span class="fu">unique</span>(S_imin)</span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>  df_imin <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(S_imin)</span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(df_imin) <span class="ot">&lt;-</span> <span class="st">"Muestra_imin"</span></span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a>  S_w <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (x <span class="cf">in</span> S_imin){</span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>    s_w_x <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (y <span class="cf">in</span> S_bmaj){</span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a>      s_w_x <span class="ot">&lt;-</span> s_w_x <span class="sc">+</span> <span class="fu">Iw</span>(X,x,y, Cf_th, CMAX, S_imin, k3)</span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a>    S_w[<span class="fu">length</span>(S_w) <span class="sc">+</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> s_w_x</span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a>  S_p <span class="ot">&lt;-</span> S_w<span class="sc">*</span>(<span class="dv">1</span><span class="sc">/</span><span class="fu">sum</span>(S_w)) <span class="co"># selection_probability</span></span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculem ara els clusters</span></span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Class <span class="sc">==</span> <span class="st">"positive"</span>) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>idx) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="fu">where</span>(is.numeric))</span>
<span id="cb10-56"><a href="#cb10-56" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">&lt;-</span> <span class="fu">dim</span>(df)[<span class="dv">1</span>]</span>
<span id="cb10-57"><a href="#cb10-57" aria-hidden="true" tabindex="-1"></a>  df_matrix<span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(df)</span>
<span id="cb10-58"><a href="#cb10-58" aria-hidden="true" tabindex="-1"></a>  Hn <span class="ot">&lt;-</span> <span class="fu">diag</span>(n)<span class="sc">-</span><span class="dv">1</span><span class="sc">/</span>n                   <span class="co"># matriz de centrado</span></span>
<span id="cb10-59"><a href="#cb10-59" aria-hidden="true" tabindex="-1"></a>  cX <span class="ot">&lt;-</span> Hn<span class="sc">%*%</span>df_matrix                        <span class="co"># matriz centrada</span></span>
<span id="cb10-60"><a href="#cb10-60" aria-hidden="true" tabindex="-1"></a>  mat_dist <span class="ot">&lt;-</span> <span class="fu">dist</span>(<span class="at">x =</span> cX, <span class="at">method =</span> <span class="st">"euclidean"</span>)  <span class="co"># matriz de distancias</span></span>
<span id="cb10-61"><a href="#cb10-61" aria-hidden="true" tabindex="-1"></a>  hc_average <span class="ot">&lt;-</span> mat_dist <span class="sc">%&gt;%</span> <span class="fu">hclust</span>(<span class="at">method =</span> <span class="st">"average"</span>)  <span class="co"># realizamos un clustering jerarquico</span></span>
<span id="cb10-62"><a href="#cb10-62" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-63"><a href="#cb10-63" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculem ara el llindar per "aturar" el proces de agrupació del clustering</span></span>
<span id="cb10-64"><a href="#cb10-64" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-65"><a href="#cb10-65" aria-hidden="true" tabindex="-1"></a>  <span class="co"># X_minf &lt;- X %&gt;% filter(idx %in% S_minf)</span></span>
<span id="cb10-66"><a href="#cb10-66" aria-hidden="true" tabindex="-1"></a>  D <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">dist</span>(df_matrix, <span class="at">method =</span> <span class="st">"euclidean"</span>, <span class="at">upper =</span> <span class="cn">TRUE</span>, <span class="at">diag =</span> <span class="cn">TRUE</span>)) <span class="co"># Matriu de distàncies</span></span>
<span id="cb10-67"><a href="#cb10-67" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-68"><a href="#cb10-68" aria-hidden="true" tabindex="-1"></a>  sumatorio <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb10-69"><a href="#cb10-69" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(D))){</span>
<span id="cb10-70"><a href="#cb10-70" aria-hidden="true" tabindex="-1"></a>    sumatorio <span class="ot">&lt;-</span> sumatorio <span class="sc">+</span> <span class="fu">min</span>(D[<span class="sc">-</span>i,i])</span>
<span id="cb10-71"><a href="#cb10-71" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-72"><a href="#cb10-72" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-73"><a href="#cb10-73" aria-hidden="true" tabindex="-1"></a>  d_avg <span class="ot">&lt;-</span> (<span class="dv">1</span><span class="sc">/</span><span class="fu">length</span>(S_minf))<span class="sc">*</span>sumatorio</span>
<span id="cb10-74"><a href="#cb10-74" aria-hidden="true" tabindex="-1"></a>  Th <span class="ot">&lt;-</span> d_avg <span class="sc">*</span> C_p <span class="co"># llindar </span></span>
<span id="cb10-75"><a href="#cb10-75" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-76"><a href="#cb10-76" aria-hidden="true" tabindex="-1"></a>  grupos <span class="ot">&lt;-</span> <span class="fu">cutree</span>(hc_average, <span class="at">h =</span> Th) <span class="co"># etiquetas de los clusters de cada muestra de la classe minoritaria</span></span>
<span id="cb10-77"><a href="#cb10-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-78"><a href="#cb10-78" aria-hidden="true" tabindex="-1"></a>  etiquetas_S_imin <span class="ot">&lt;-</span> grupos[<span class="fu">which</span>(X_posIdx <span class="sc">%in%</span> S_imin)] <span class="co"># Etiquetas de las muestras de S_imin</span></span>
<span id="cb10-79"><a href="#cb10-79" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-80"><a href="#cb10-80" aria-hidden="true" tabindex="-1"></a>  df_imin <span class="ot">&lt;-</span> df_imin <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">clusters_grup =</span> etiquetas_S_imin)</span>
<span id="cb10-81"><a href="#cb10-81" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-82"><a href="#cb10-82" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span>N)){</span>
<span id="cb10-83"><a href="#cb10-83" aria-hidden="true" tabindex="-1"></a>    x <span class="ot">&lt;-</span> <span class="fu">sample</span>(S_imin, <span class="dv">1</span>, <span class="at">prob =</span> S_p)</span>
<span id="cb10-84"><a href="#cb10-84" aria-hidden="true" tabindex="-1"></a>    cluster_x <span class="ot">&lt;-</span> df_imin <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Muestra_imin <span class="sc">==</span> x) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(clusters_grup)</span>
<span id="cb10-85"><a href="#cb10-85" aria-hidden="true" tabindex="-1"></a>    Cluster_L <span class="ot">&lt;-</span> df_imin <span class="sc">%&gt;%</span>  <span class="fu">filter</span>(clusters_grup <span class="sc">==</span> cluster_x) <span class="sc">%&gt;%</span> <span class="fu">pull</span>(Muestra_imin)</span>
<span id="cb10-86"><a href="#cb10-86" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="fu">length</span>(Cluster_L) <span class="sc">==</span> <span class="dv">1</span>){</span>
<span id="cb10-87"><a href="#cb10-87" aria-hidden="true" tabindex="-1"></a>      y <span class="ot">&lt;-</span> Cluster_L</span>
<span id="cb10-88"><a href="#cb10-88" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span>{</span>
<span id="cb10-89"><a href="#cb10-89" aria-hidden="true" tabindex="-1"></a>      y <span class="ot">&lt;-</span> <span class="fu">sample</span>(Cluster_L,<span class="dv">1</span>)</span>
<span id="cb10-90"><a href="#cb10-90" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb10-91"><a href="#cb10-91" aria-hidden="true" tabindex="-1"></a>    mostra_x <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(idx <span class="sc">==</span> x) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx,Class))</span>
<span id="cb10-92"><a href="#cb10-92" aria-hidden="true" tabindex="-1"></a>    mostra_y <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(idx <span class="sc">==</span> y) <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx,Class))</span>
<span id="cb10-93"><a href="#cb10-93" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-94"><a href="#cb10-94" aria-hidden="true" tabindex="-1"></a>    s <span class="ot">&lt;-</span> mostra_x <span class="sc">+</span> <span class="fu">runif</span>(<span class="dv">1</span>,<span class="dv">0</span>,<span class="dv">1</span>)<span class="sc">*</span>(mostra_y<span class="sc">-</span>mostra_x)</span>
<span id="cb10-95"><a href="#cb10-95" aria-hidden="true" tabindex="-1"></a>    nova_mostra <span class="ot">&lt;-</span> s <span class="sc">%&gt;%</span> as_tibble <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">idx =</span> <span class="dv">0</span>, <span class="at">Class =</span> <span class="st">"positive"</span>) <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(<span class="fu">any_of</span>(<span class="fu">names</span>(X)))</span>
<span id="cb10-96"><a href="#cb10-96" aria-hidden="true" tabindex="-1"></a>    new_data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(new_data, nova_mostra)</span>
<span id="cb10-97"><a href="#cb10-97" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-98"><a href="#cb10-98" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb10-99"><a href="#cb10-99" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(new_data)</span>
<span id="cb10-100"><a href="#cb10-100" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="mdo-mahalanobis-distance-based-oversampling-technique" class="level2">
<h2 class="anchored" data-anchor-id="mdo-mahalanobis-distance-based-oversampling-technique">MDO (Mahalanobis Distance-based Oversampling technique)</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>MDO <span class="ot">&lt;-</span> <span class="cf">function</span>(X, k1, k2){</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  new_dataset_num <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx,Class))</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>  new_dataset <span class="ot">&lt;-</span> X</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  X_s <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Class <span class="sc">==</span> <span class="st">"positive"</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  idx_pos <span class="ot">&lt;-</span> X_s <span class="sc">%&gt;%</span> <span class="fu">pull</span>(idx)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  contador <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  weights <span class="ot">&lt;-</span> <span class="fu">c</span>()</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>  no_noise <span class="ot">&lt;-</span> idx_pos</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> idx_pos){</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>    NN_i <span class="ot">&lt;-</span> <span class="fu">NN</span>(X,i,k2)</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    num_i <span class="ot">&lt;-</span> <span class="fu">sum</span>(NN_i <span class="sc">%in%</span> idx_pos)</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span>(num_i <span class="sc">&lt;</span> k1){</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>      no_noise <span class="ot">&lt;-</span> no_noise[<span class="sc">-</span>contador]</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>    }<span class="cf">else</span>{</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>      weights[<span class="fu">length</span>(weights)<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> num_i<span class="sc">/</span>k2</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>      contador <span class="ot">&lt;-</span> contador <span class="sc">+</span> <span class="dv">1</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>  probs_weights <span class="ot">&lt;-</span> weights<span class="sc">/</span><span class="fu">sum</span>(weights)</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>  n_s <span class="ot">&lt;-</span> <span class="fu">length</span>(no_noise)</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>  X_s <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(idx <span class="sc">%in%</span> no_noise)</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>  X_s_num <span class="ot">&lt;-</span> X_s <span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(idx,Class))</span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>  mu <span class="ot">&lt;-</span> X_s_num <span class="sc">%&gt;%</span> <span class="fu">summarise_all</span>(mean) <span class="co"># vector de mitjanes</span></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span>(i <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(X_s_num))){ <span class="co"># centram les dades</span></span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>    X_s_num[i,] <span class="ot">&lt;-</span> X_s_num[i,]<span class="sc">-</span>mu</span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>  <span class="co"># realitzam la descomposició en valors propis de la matriu de covariances, que és simètrica i per tant, diagonalitza:</span></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>  X_s.DVP <span class="ot">&lt;-</span> <span class="fu">eigen</span>(<span class="fu">cov</span>(X_s_num))</span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>  Q <span class="ot">&lt;-</span> X_s.DVP<span class="sc">$</span>vectors</span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a>  xi <span class="ot">&lt;-</span> X_s.DVP<span class="sc">$</span>values</span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a>  n_maj <span class="ot">&lt;-</span> X <span class="sc">%&gt;%</span> <span class="fu">filter</span>(Class <span class="sc">==</span> <span class="st">"negative"</span>) <span class="sc">%&gt;%</span> nrow</span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb11-43"><a href="#cb11-43" aria-hidden="true" tabindex="-1"></a>  X_sQ <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(X_s_num) <span class="sc">%*%</span> Q</span>
<span id="cb11-44"><a href="#cb11-44" aria-hidden="true" tabindex="-1"></a>  n_XQ <span class="ot">&lt;-</span> <span class="fu">nrow</span>(X_sQ)</span>
<span id="cb11-45"><a href="#cb11-45" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(n_maj <span class="sc">-</span> n_s <span class="sc">&gt;</span> <span class="dv">0</span>){</span>
<span id="cb11-46"><a href="#cb11-46" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (j <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span>(n_maj <span class="sc">-</span> n_s))){</span>
<span id="cb11-47"><a href="#cb11-47" aria-hidden="true" tabindex="-1"></a>      i <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span>n_XQ),<span class="dv">1</span>, <span class="at">prob =</span> probs_weights)</span>
<span id="cb11-48"><a href="#cb11-48" aria-hidden="true" tabindex="-1"></a>      x_sample <span class="ot">&lt;-</span> X_sQ[i,]</span>
<span id="cb11-49"><a href="#cb11-49" aria-hidden="true" tabindex="-1"></a>      alpha <span class="ot">&lt;-</span> <span class="fu">sum</span>((x_sample<span class="sc">^</span><span class="dv">2</span>)<span class="sc">*</span>(<span class="dv">1</span><span class="sc">/</span>xi))</span>
<span id="cb11-50"><a href="#cb11-50" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb11-51"><a href="#cb11-51" aria-hidden="true" tabindex="-1"></a>      s <span class="ot">=</span> <span class="fu">c</span>() <span class="co"># nova dada sintètica</span></span>
<span id="cb11-52"><a href="#cb11-52" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span>(h <span class="cf">in</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span>(<span class="fu">length</span>(xi)<span class="sc">-</span><span class="dv">1</span>))){</span>
<span id="cb11-53"><a href="#cb11-53" aria-hidden="true" tabindex="-1"></a>        s[<span class="fu">length</span>(s)<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">1</span>,<span class="at">min=</span><span class="sc">-</span><span class="fu">sqrt</span>((alpha<span class="sc">*</span>xi[h])<span class="sc">/</span>(<span class="fu">length</span>(xi)<span class="sc">-</span><span class="dv">1</span>)),<span class="at">max=</span><span class="fu">sqrt</span>((alpha<span class="sc">*</span>xi[h])<span class="sc">/</span>(<span class="fu">length</span>(xi)<span class="sc">-</span><span class="dv">1</span>)))</span>
<span id="cb11-54"><a href="#cb11-54" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb11-55"><a href="#cb11-55" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb11-56"><a href="#cb11-56" aria-hidden="true" tabindex="-1"></a>      <span class="co"># cercam la darrera component del vector s:</span></span>
<span id="cb11-57"><a href="#cb11-57" aria-hidden="true" tabindex="-1"></a>      a <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>),<span class="dv">1</span>) <span class="co"># escollim sa solució positiva o negativa</span></span>
<span id="cb11-58"><a href="#cb11-58" aria-hidden="true" tabindex="-1"></a>      s[<span class="fu">length</span>(s)<span class="sc">+</span><span class="dv">1</span>] <span class="ot">&lt;-</span> ((<span class="sc">-</span><span class="dv">1</span>)<span class="sc">^</span>a)<span class="sc">*</span><span class="fu">sqrt</span>(alpha<span class="sc">*</span>xi[<span class="fu">length</span>(xi)]<span class="sc">*</span>(<span class="dv">1</span><span class="sc">-</span><span class="fu">sum</span>((s<span class="sc">^</span><span class="dv">2</span>)<span class="sc">*</span>(<span class="dv">1</span><span class="sc">/</span>(alpha<span class="sc">*</span>xi[<span class="dv">1</span><span class="sc">:</span>(<span class="fu">length</span>(xi)<span class="sc">-</span><span class="dv">1</span>)])))))</span>
<span id="cb11-59"><a href="#cb11-59" aria-hidden="true" tabindex="-1"></a>     </span>
<span id="cb11-60"><a href="#cb11-60" aria-hidden="true" tabindex="-1"></a>      nou_ex <span class="ot">&lt;-</span> <span class="fu">t</span>(<span class="fu">as.matrix</span>(s))<span class="sc">%*%</span><span class="fu">t</span>(Q) <span class="sc">+</span> mu <span class="co"># desfeim el canvi de variable</span></span>
<span id="cb11-61"><a href="#cb11-61" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb11-62"><a href="#cb11-62" aria-hidden="true" tabindex="-1"></a>      nova_dada <span class="ot">&lt;-</span> nou_ex <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">idx=</span><span class="dv">0</span>, <span class="at">Class=</span><span class="st">"positive"</span>) <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(idx)</span>
<span id="cb11-63"><a href="#cb11-63" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb11-64"><a href="#cb11-64" aria-hidden="true" tabindex="-1"></a>      new_dataset <span class="ot">&lt;-</span> <span class="fu">rbind</span>(new_dataset, nova_dada)</span>
<span id="cb11-65"><a href="#cb11-65" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb11-66"><a href="#cb11-66" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-67"><a href="#cb11-67" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(new_dataset)</span>
<span id="cb11-68"><a href="#cb11-68" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="dades" class="level1">
<h1>Dades</h1>
<p>Carregam totes les taules de dades necessàries</p>
<section id="abalone9_18" class="level2">
<h2 class="anchored" data-anchor-id="abalone9_18">abalone9_18</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>abalone9_18 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/abalone9_18/abalone9-18.dat"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>abalone9_18 <span class="ot">&lt;-</span> abalone9_18 <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">idx =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(abalone9_18))) <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(idx)<span class="sc">%&gt;%</span> dplyr<span class="sc">::</span><span class="fu">select</span>(<span class="sc">-</span>Sex)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>abalone9_18_train <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/abalone9_18/abalone9_18_train.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>abalone9_18_test <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/abalone9_18/abalone9_18_test.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>IR_abalone9_18 <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(<span class="fu">table</span>(abalone9_18<span class="sc">$</span>Class)[<span class="dv">1</span>]<span class="sc">/</span><span class="fu">table</span>(abalone9_18<span class="sc">$</span>Class)[<span class="dv">2</span>]),<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="page_blocks_1_3_4" class="level2">
<h2 class="anchored" data-anchor-id="page_blocks_1_3_4">page_blocks_1_3_4</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>page_blocks_1_3_4 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks_1_3_4/page-blocks-1-3_vs_4.dat"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>page_blocks_1_3_4 <span class="ot">&lt;-</span> page_blocks_1_3_4 <span class="sc">%&gt;%</span> </span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">idx =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(page_blocks_1_3_4))) <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(idx)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>page_blocks_1_3_4_train <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks_1_3_4/page_blocks_1_3_4_train.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>page_blocks_1_3_4_test <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks_1_3_4/page_blocks_1_3_4_test.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>IR_page_blocks_1_3_4 <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(<span class="fu">table</span>(page_blocks_1_3_4<span class="sc">$</span>Class)[<span class="dv">1</span>]<span class="sc">/</span><span class="fu">table</span>(page_blocks_1_3_4<span class="sc">$</span>Class)[<span class="dv">2</span>]),<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="glass_0_1_6_vs_2" class="level2">
<h2 class="anchored" data-anchor-id="glass_0_1_6_vs_2">glass_0_1_6_vs_2</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>glass_0_1_6_vs_2 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass_0_1_6_vs_2/glass-0-1-6_vs_2.dat"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>glass_0_1_6_vs_2 <span class="ot">&lt;-</span> glass_0_1_6_vs_2 <span class="sc">%&gt;%</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">idx =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(glass_0_1_6_vs_2))) <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(idx)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>glass_0_1_6_vs_2_train <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass_0_1_6_vs_2/glass_0_1_6_vs_2_train.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>glass_0_1_6_vs_2_test <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass_0_1_6_vs_2/glass_0_1_6_vs_2_test.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="glass_0_1_4_6_vs_2" class="level2">
<h2 class="anchored" data-anchor-id="glass_0_1_4_6_vs_2">glass_0_1_4_6_vs_2</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>glass_0_1_4_6_vs_2 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass_0_1_4_6_vs_2/glass-0-1-4-6_vs_2.dat"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>glass_0_1_4_6_vs_2 <span class="ot">&lt;-</span> glass_0_1_4_6_vs_2 <span class="sc">%&gt;%</span> </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">idx =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(glass_0_1_4_6_vs_2))) <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(idx)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>glass_0_1_4_6_vs_2_train <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass_0_1_4_6_vs_2/glass_0_1_4_6_vs_2_train.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>glass_0_1_4_6_vs_2_test <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass_0_1_4_6_vs_2/glass_0_1_4_6_vs_2_test.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="page-blocks0" class="level2">
<h2 class="anchored" data-anchor-id="page-blocks0">page-blocks0</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>page_blocks0 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page-blocks0.dat"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>page_blocks0 <span class="ot">&lt;-</span> page_blocks0 <span class="sc">%&gt;%</span> </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">idx =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(page_blocks0))) <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(idx)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>page_blocks0_train <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_train.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>page_blocks0_test <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_test.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>IR_page_blocks0 <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(<span class="fu">table</span>(page_blocks0<span class="sc">$</span>Class)[<span class="dv">1</span>]<span class="sc">/</span><span class="fu">table</span>(page_blocks0<span class="sc">$</span>Class)[<span class="dv">2</span>]),<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="page_blocks0_1" class="level3">
<h3 class="anchored" data-anchor-id="page_blocks0_1">page_blocks0_1</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>page_blocks0_1 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_1.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>page_blocks0_1_train <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_1_train.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>page_blocks0_1_test <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_1_test.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>IR_prova <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(<span class="fu">table</span>(page_blocks0_1<span class="sc">$</span>Class)[<span class="dv">1</span>]<span class="sc">/</span><span class="fu">table</span>(page_blocks0_1<span class="sc">$</span>Class)[<span class="dv">2</span>]),<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="page_blocks0_2" class="level3">
<h3 class="anchored" data-anchor-id="page_blocks0_2">page_blocks0_2</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>page_blocks0_2 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_2.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>page_blocks0_2_train <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_2_train.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>page_blocks0_2_test <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_2_test.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>IR_prova <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(<span class="fu">table</span>(page_blocks0_2<span class="sc">$</span>Class)[<span class="dv">1</span>]<span class="sc">/</span><span class="fu">table</span>(page_blocks0_2<span class="sc">$</span>Class)[<span class="dv">2</span>]),<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="abalone19_peque" class="level2">
<h2 class="anchored" data-anchor-id="abalone19_peque">abalone19_peque</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>abalone19_peque <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/abalone19/abalone19_peque.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>abalone19_peque_train <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/abalone19/abalone19_peque_train.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>abalone19_peque_test <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/abalone19/abalone19_peque_test.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>IR_abalone19_peque <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(<span class="fu">table</span>(abalone19_peque<span class="sc">$</span>Class)[<span class="dv">1</span>]<span class="sc">/</span><span class="fu">table</span>(abalone19_peque<span class="sc">$</span>Class)[<span class="dv">2</span>]),<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="glass2" class="level2">
<h2 class="anchored" data-anchor-id="glass2">glass2</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>glass2 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass2/glass2.dat"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>glass2_train <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass2/glass2_train.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>glass2_test <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass2/glass2_test.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>IR_glass2 <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(<span class="fu">table</span>(glass2<span class="sc">$</span>Class)[<span class="dv">1</span>]<span class="sc">/</span><span class="fu">table</span>(glass2<span class="sc">$</span>Class)[<span class="dv">2</span>]),<span class="dv">3</span>); IR_glass2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 11.588</code></pre>
</div>
</div>
<p><b style="color : black; font-size: 40px;"> Problema de dades desbalancejades</b></p>
<p>Diferents mètodes de balanceig:</p>
<ul>
<li><p>Sobre mostreig aleatori de la classe minoritària</p></li>
<li><p>Sub mostreig aleatori de la classe majoritària</p></li>
</ul>
<p>Ens centrarem en els algoritmes SMOTE i les seves variats.</p>
<p>Donades una sèrie de dades, estudariem i programarem els algoritmes, els aplicarem a les dades i després compararem el resultat amb la funció optimitzada que té <code>r</code> en el paquet <code>smotefamily</code>.</p>
<p>Primer de tot vegem les dades que tenim. Vegem quant de desbalancejada està i dividirem la taula de dades en <em>training</em> i <em>test</em> per més endavant aplicar-hi un classificador.</p>
</section>
</section>
<section id="balanceig" class="level1">
<h1>Balanceig</h1>
<p>En aquest apartat aplicarem els mètodes vists anteriorment a 10 taules de dades tretes de la pagina web: keel.</p>
<section id="smote" class="level3">
<h3 class="anchored" data-anchor-id="smote">SMOTE</h3>
<section id="abalone9_18-1" class="level4">
<h4 class="anchored" data-anchor-id="abalone9_18-1">abalone9_18</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig de pima amb SMOTE</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>abalone9_18_train_SMOTE <span class="ot">&lt;-</span> <span class="fu">SMOTE</span>(abalone9_18_train, <span class="dv">300</span>,<span class="dv">10</span>)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone9_18_train_SMOTE<span class="sc">$</span>Class)</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone9_18_train<span class="sc">$</span>Class)</span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(abalone9_18_train_SMOTE, file = "Taules_de_dades/abalone9_18/abalone9_18_train_SMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>abalone9_18_train_SMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/abalone9_18/abalone9_18_train_SMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone9_18_train_SMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     553      332 </code></pre>
</div>
</div>
</section>
<section id="page_blocks_1_3_4-1" class="level4">
<h4 class="anchored" data-anchor-id="page_blocks_1_3_4-1">page_blocks_1_3_4</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig de pima amb SMOTE</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>page_blocks_1_3_4_train_SMOTE <span class="ot">&lt;-</span> <span class="fu">SMOTE</span>(page_blocks_1_3_4_train, <span class="dv">250</span>,<span class="dv">15</span>)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks_1_3_4_train_SMOTE<span class="sc">$</span>Class)</span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks_1_3_4_train<span class="sc">$</span>Class)</span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(page_blocks_1_3_4_train_SMOTE, file = "Taules_de_dades/page_blocks_1_3_4/page_blocks_1_3_4_train_SMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>page_blocks_1_3_4_train_SMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks_1_3_4/page_blocks_1_3_4_train_SMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks_1_3_4_train_SMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     361      257 </code></pre>
</div>
</div>
</section>
<section id="glass_0_1_6_vs_2-1" class="level4">
<h4 class="anchored" data-anchor-id="glass_0_1_6_vs_2-1">glass_0_1_6_vs_2</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig de pima amb SMOTE</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>glass_0_1_6_vs_2_train_SMOTE <span class="ot">&lt;-</span> <span class="fu">SMOTE</span>(glass_0_1_6_vs_2_train, <span class="dv">110</span>,<span class="dv">8</span>)</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_6_vs_2_train_SMOTE<span class="sc">$</span>Class)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_6_vs_2_train<span class="sc">$</span>Class)</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(glass_0_1_6_vs_2_train_SMOTE, file = "Taules_de_dades/glass_0_1_6_vs_2/glass_0_1_6_vs_2_train_SMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>glass_0_1_6_vs_2_train_SMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass_0_1_6_vs_2/glass_0_1_6_vs_2_train_SMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_6_vs_2_train_SMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     141      113 </code></pre>
</div>
</div>
</section>
<section id="glass_0_1_4_6_vs_2-1" class="level4">
<h4 class="anchored" data-anchor-id="glass_0_1_4_6_vs_2-1">glass_0_1_4_6_vs_2</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig de pima amb SMOTE</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>glass_0_1_4_6_vs_2_train_SMOTE <span class="ot">&lt;-</span> <span class="fu">SMOTE</span>(glass_0_1_4_6_vs_2_train, <span class="dv">110</span>,<span class="dv">8</span>)</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_4_6_vs_2_train_SMOTE<span class="sc">$</span>Class)</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_4_6_vs_2_train<span class="sc">$</span>Class)</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(glass_0_1_4_6_vs_2_train_SMOTE, file = "Taules_de_dades/glass_0_1_4_6_vs_2/glass_0_1_4_6_vs_2_train_SMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>glass_0_1_4_6_vs_2_train_SMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass_0_1_4_6_vs_2/glass_0_1_4_6_vs_2_train_SMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_4_6_vs_2_train_SMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     151      117 </code></pre>
</div>
</div>
</section>
<section id="page-blocks0-1" class="level4">
<h4 class="anchored" data-anchor-id="page-blocks0-1">page-blocks0</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig de pima amb SMOTE</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>page_blocks0_train_SMOTE <span class="ot">&lt;-</span> <span class="fu">SMOTE</span>(page_blocks0_train, <span class="dv">2500</span>, <span class="dv">8</span>)</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_train_SMOTE<span class="sc">$</span>Class)</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(page_blocks0_train_SMOTE, file = "Taules_de_dades/page_blocks0/page_blocks0_train_SMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>page_blocks0_train_SMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_train_SMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_train_SMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
    3932     2942 </code></pre>
</div>
</div>
<section id="page-blocks0_1" class="level5">
<h5 class="anchored" data-anchor-id="page-blocks0_1">page-blocks0_1</h5>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig de pima amb SMOTE</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>page_blocks0_1_train_SMOTE <span class="ot">&lt;-</span> <span class="fu">SMOTE</span>(page_blocks0_1_train, <span class="dv">350</span>, <span class="dv">10</span>)</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_1_train_SMOTE<span class="sc">$</span>Class)</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_1_train<span class="sc">$</span>Class)</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(page_blocks0_1_train_SMOTE, file = "Taules_de_dades/page_blocks0/page_blocks0_1_train_SMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>page_blocks0_1_train_SMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_1_train_SMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_1_train_SMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     404      391 </code></pre>
</div>
</div>
</section>
<section id="page-blocks0_2" class="level5">
<h5 class="anchored" data-anchor-id="page-blocks0_2">page-blocks0_2</h5>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig de pima amb SMOTE</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>page_blocks0_2_train_SMOTE <span class="ot">&lt;-</span> <span class="fu">SMOTE</span>(page_blocks0_2_train, <span class="dv">350</span>, <span class="dv">10</span>)</span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_2_train_SMOTE<span class="sc">$</span>Class)</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_2_train<span class="sc">$</span>Class)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(page_blocks0_2_train_SMOTE, file = "Taules_de_dades/page_blocks0/page_blocks0_2_train_SMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>page_blocks0_2_train_SMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_2_train_SMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_2_train_SMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     405      390 </code></pre>
</div>
</div>
</section>
</section>
<section id="abalone19_peque-1" class="level4">
<h4 class="anchored" data-anchor-id="abalone19_peque-1">abalone19_peque</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig de pima amb SMOTE</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>abalone19_peque_train_SMOTE <span class="ot">&lt;-</span> <span class="fu">SMOTE</span>(abalone19_peque_train, <span class="dv">175</span>,<span class="dv">7</span>)</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone19_peque_train_SMOTE<span class="sc">$</span>Class)</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone19_peque_train<span class="sc">$</span>Class)</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(abalone19_peque_train_SMOTE, file = "Taules_de_dades/abalone19/abalone19_peque_train_SMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>abalone19_peque_train_SMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/abalone19/abalone19_peque_train_SMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone19_peque_train_SMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="glass2-1" class="level4">
<h4 class="anchored" data-anchor-id="glass2-1">glass2</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig de glass2 amb SMOTE</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>glass2_train_SMOTE <span class="ot">&lt;-</span> <span class="fu">SMOTE</span>(glass2_train, <span class="dv">120</span>, <span class="dv">10</span>)</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass2_train<span class="sc">$</span>Class)</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass2_train_SMOTE<span class="sc">$</span>Class)</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(glass2_train_SMOTE, file = "Taules_de_dades/glass2/glass2_train_SMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>glass2_train_SMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass2/glass2_train_SMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass2_train_SMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     158      133 </code></pre>
</div>
</div>
</section>
</section>
<section id="borderline-smote-1" class="level3">
<h3 class="anchored" data-anchor-id="borderline-smote-1">Borderline SMOTE</h3>
<section id="abalone9_18-2" class="level4">
<h4 class="anchored" data-anchor-id="abalone9_18-2">abalone9_18</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig de pima amb Borderline-SMOTE</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>abalone9_18_train_BorderlineSMOTE <span class="ot">&lt;-</span> <span class="fu">BorderlineSMOTE</span>(abalone9_18_train,<span class="dv">5</span>)</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone9_18_train_BorderlineSMOTE<span class="sc">$</span>Class)</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(abalone9_18_train_BorderlineSMOTE, file = "Taules_de_dades/abalone9_18/abalone9_18_train_BorderlineSMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>abalone9_18_train_BorderlineSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/abalone9_18/abalone9_18_train_BorderlineSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone9_18_train_BorderlineSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     553      127 </code></pre>
</div>
</div>
</section>
<section id="page_blocks_1_3_4-2" class="level4">
<h4 class="anchored" data-anchor-id="page_blocks_1_3_4-2">page_blocks_1_3_4</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig de pima amb Borderline-SMOTE</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>page_blocks_1_3_4_train_BorderlineSMOTE <span class="ot">&lt;-</span> <span class="fu">BorderlineSMOTE</span>(page_blocks_1_3_4_train,<span class="dv">9</span>)</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks_1_3_4_train_BorderlineSMOTE<span class="sc">$</span>Class)</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks_1_3_4_train<span class="sc">$</span>Class)</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(page_blocks_1_3_4_train_BorderlineSMOTE, file = "Taules_de_dades/page_blocks_1_3_4/page_blocks_1_3_4_train_BorderlineSMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>page_blocks_1_3_4_train_BorderlineSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks_1_3_4/page_blocks_1_3_4_train_BorderlineSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks_1_3_4_train_BorderlineSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     361       89 </code></pre>
</div>
</div>
</section>
<section id="glass_0_1_6_vs_2-2" class="level4">
<h4 class="anchored" data-anchor-id="glass_0_1_6_vs_2-2">glass_0_1_6_vs_2</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig de pima amb Borderline-SMOTE</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>glass_0_1_6_vs_2_train_BorderlineSMOTE <span class="ot">&lt;-</span> <span class="fu">BorderlineSMOTE</span>(glass_0_1_6_vs_2_train,<span class="dv">9</span>)</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_6_vs_2_train_BorderlineSMOTE<span class="sc">$</span>Class)</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_6_vs_2_train<span class="sc">$</span>Class)</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(glass_0_1_6_vs_2_train_BorderlineSMOTE, file = "Taules_de_dades/glass_0_1_6_vs_2/glass_0_1_6_vs_2_train_BorderlineSMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>glass_0_1_6_vs_2_train_BorderlineSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass_0_1_6_vs_2/glass_0_1_6_vs_2_train_BorderlineSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_6_vs_2_train_BorderlineSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     141      112 </code></pre>
</div>
</div>
</section>
<section id="glass_0_1_4_6_vs_2-2" class="level4">
<h4 class="anchored" data-anchor-id="glass_0_1_4_6_vs_2-2">glass_0_1_4_6_vs_2</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig de pima amb Borderline-SMOTE</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>glass_0_1_4_6_vs_2_train_BorderlineSMOTE <span class="ot">&lt;-</span> <span class="fu">BorderlineSMOTE</span>(glass_0_1_4_6_vs_2_train,<span class="dv">8</span>)</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_4_6_vs_2_train_BorderlineSMOTE<span class="sc">$</span>Class)</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_4_6_vs_2_train<span class="sc">$</span>Class)</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(glass_0_1_4_6_vs_2_train_BorderlineSMOTE, file = "Taules_de_dades/glass_0_1_4_6_vs_2/glass_0_1_4_6_vs_2_train_BorderlineSMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a>glass_0_1_4_6_vs_2_train_BorderlineSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass_0_1_4_6_vs_2/glass_0_1_4_6_vs_2_train_BorderlineSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_4_6_vs_2_train_BorderlineSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     151      101 </code></pre>
</div>
</div>
</section>
<section id="abalone19_peque-2" class="level4">
<h4 class="anchored" data-anchor-id="abalone19_peque-2">abalone19_peque</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig de pima amb Borderline-SMOTE</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>abalone19_peque_train_BorderlineSMOTE <span class="ot">&lt;-</span> <span class="fu">BorderlineSMOTE</span>(abalone19_peque_train,<span class="dv">5</span>)</span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone19_peque_train_BorderlineSMOTE<span class="sc">$</span>Class)</span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone19_peque_train<span class="sc">$</span>Class)</span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(abalone19_peque_train_BorderlineSMOTE, file = "Taules_de_dades/abalone19/abalone19_peque_train_BorderlineSMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>abalone19_peque_train_BorderlineSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/abalone19/abalone19_peque_train_BorderlineSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone19_peque_train_BorderlineSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     234      110 </code></pre>
</div>
</div>
</section>
<section id="glass2-2" class="level4">
<h4 class="anchored" data-anchor-id="glass2-2">glass2</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig de glass2 amb Borderline-SMOTE</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>glass2_train_BorderlineSMOTE <span class="ot">&lt;-</span> <span class="fu">BorderlineSMOTE</span>(glass2_train,<span class="dv">8</span>)</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass2_train_BorderlineSMOTE<span class="sc">$</span>Class)</span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(glass2_train_BorderlineSMOTE, file = "Taules_de_dades/glass2/glass2_train_BorderlineSMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a>glass2_train_BorderlineSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass2/glass2_train_BorderlineSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass2_train_BorderlineSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     158       85 </code></pre>
</div>
</div>
</section>
<section id="page-blocks0-2" class="level4">
<h4 class="anchored" data-anchor-id="page-blocks0-2">page-blocks0</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig de pima amb Borderline-SMOTE</span></span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>page_blocks0_train_BorderlineSMOTE <span class="ot">&lt;-</span> <span class="fu">BorderlineSMOTE</span>(page_blocks0_train,<span class="dv">10</span>)</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_train_BorderlineSMOTE<span class="sc">$</span>Class)</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(page_blocks0_train_BorderlineSMOTE, file = "Taules_de_dades/page_blocks0/page_blocks0_train_BorderlineSMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>page_blocks0_train_BorderlineSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_train_BorderlineSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_train_BorderlineSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
    3932     1836 </code></pre>
</div>
</div>
<section id="page_blocks0_1-1" class="level5">
<h5 class="anchored" data-anchor-id="page_blocks0_1-1">page_blocks0_1</h5>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig de pima amb Borderline-SMOTE</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>page_blocks0_1_train_BorderlineSMOTE <span class="ot">&lt;-</span> <span class="fu">BorderlineSMOTE</span>(page_blocks0_1_train,<span class="dv">10</span>)</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_1_train_BorderlineSMOTE<span class="sc">$</span>Class)</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(page_blocks0_1_train_BorderlineSMOTE, file = "Taules_de_dades/page_blocks0/page_blocks0_1_train_BorderlineSMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>page_blocks0_1_train_BorderlineSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_1_train_BorderlineSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_1_train_BorderlineSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     404      291 </code></pre>
</div>
</div>
</section>
<section id="page_blocks0_2-1" class="level5">
<h5 class="anchored" data-anchor-id="page_blocks0_2-1">page_blocks0_2</h5>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig de pima amb Borderline-SMOTE</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>page_blocks0_2_train_BorderlineSMOTE <span class="ot">&lt;-</span> <span class="fu">BorderlineSMOTE</span>(page_blocks0_2_train,<span class="dv">10</span>)</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_2_train_BorderlineSMOTE<span class="sc">$</span>Class)</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(page_blocks0_2_train_BorderlineSMOTE, file = "Taules_de_dades/page_blocks0/page_blocks0_2_train_BorderlineSMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>page_blocks0_2_train_BorderlineSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_2_train_BorderlineSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_2_train_BorderlineSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     405      290 </code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="adoms" class="level3">
<h3 class="anchored" data-anchor-id="adoms">ADOMS</h3>
<section id="abalone9_18-3" class="level4">
<h4 class="anchored" data-anchor-id="abalone9_18-3">abalone9_18</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb ADOMS</span></span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a>abalone9_18_train_ADOMS <span class="ot">&lt;-</span> <span class="fu">ADOMS</span>(abalone9_18_train, <span class="dv">12</span>, <span class="dv">300</span>)</span>
<span id="cb75-3"><a href="#cb75-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone9_18_train_ADOMS<span class="sc">$</span>Class)</span>
<span id="cb75-4"><a href="#cb75-4" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(abalone9_18_train_ADOMS, file = "Taules_de_dades/abalone9_18/abalone9_18_train_ADOMS.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>abalone9_18_train_ADOMS <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/abalone9_18/abalone9_18_train_ADOMS.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone9_18_train_ADOMS<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     553      332 </code></pre>
</div>
</div>
</section>
<section id="page_blocks_1_3_4-3" class="level4">
<h4 class="anchored" data-anchor-id="page_blocks_1_3_4-3">page_blocks_1_3_4</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb ADOMS</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>page_blocks_1_3_4_train_ADOMS <span class="ot">&lt;-</span> <span class="fu">ADOMS</span>(page_blocks_1_3_4_train, <span class="dv">10</span>, <span class="dv">175</span>)</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks_1_3_4_train_ADOMS<span class="sc">$</span>Class)</span>
<span id="cb78-4"><a href="#cb78-4" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(page_blocks_1_3_4_train_ADOMS, file = "Taules_de_dades/page_blocks_1_3_4/page_blocks_1_3_4_train_ADOMS.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>page_blocks_1_3_4_train_ADOMS <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks_1_3_4/page_blocks_1_3_4_train_ADOMS.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks_1_3_4_train_ADOMS<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     361      192 </code></pre>
</div>
</div>
</section>
<section id="glass_0_1_6_vs_2-3" class="level4">
<h4 class="anchored" data-anchor-id="glass_0_1_6_vs_2-3">glass_0_1_6_vs_2</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb ADOMS</span></span>
<span id="cb81-2"><a href="#cb81-2" aria-hidden="true" tabindex="-1"></a>glass_0_1_6_vs_2_train_ADOMS <span class="ot">&lt;-</span> <span class="fu">ADOMS</span>(glass_0_1_6_vs_2_train, <span class="dv">8</span>, <span class="dv">110</span>)</span>
<span id="cb81-3"><a href="#cb81-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_6_vs_2_train_ADOMS<span class="sc">$</span>Class)</span>
<span id="cb81-4"><a href="#cb81-4" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(glass_0_1_6_vs_2_train_ADOMS, file = "Taules_de_dades/glass_0_1_6_vs_2/glass_0_1_6_vs_2_train_ADOMS.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>glass_0_1_6_vs_2_train_ADOMS <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass_0_1_6_vs_2/glass_0_1_6_vs_2_train_ADOMS.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_6_vs_2_train_ADOMS<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     141      123 </code></pre>
</div>
</div>
</section>
<section id="glass_0_1_4_6_vs_2-3" class="level4">
<h4 class="anchored" data-anchor-id="glass_0_1_4_6_vs_2-3">glass_0_1_4_6_vs_2</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb ADOMS</span></span>
<span id="cb84-2"><a href="#cb84-2" aria-hidden="true" tabindex="-1"></a>glass_0_1_4_6_vs_2_train_ADOMS <span class="ot">&lt;-</span> <span class="fu">ADOMS</span>(glass_0_1_4_6_vs_2_train, <span class="dv">9</span>, <span class="dv">110</span>)</span>
<span id="cb84-3"><a href="#cb84-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_4_6_vs_2_train_ADOMS<span class="sc">$</span>Class)</span>
<span id="cb84-4"><a href="#cb84-4" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(glass_0_1_4_6_vs_2_train_ADOMS, file = "Taules_de_dades/glass_0_1_4_6_vs_2/glass_0_1_4_6_vs_2_train_ADOMS.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>glass_0_1_4_6_vs_2_train_ADOMS <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass_0_1_4_6_vs_2/glass_0_1_4_6_vs_2_train_ADOMS.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_4_6_vs_2_train_ADOMS<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     151      123 </code></pre>
</div>
</div>
</section>
<section id="abalone19_peque-3" class="level4">
<h4 class="anchored" data-anchor-id="abalone19_peque-3">abalone19_peque</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb ADOMS</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>abalone19_peque_train_ADOMS <span class="ot">&lt;-</span> <span class="fu">ADOMS</span>(abalone19_peque_train, <span class="dv">10</span>, <span class="dv">180</span>)</span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone19_peque_train_ADOMS<span class="sc">$</span>Class)</span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(abalone19_peque_train_ADOMS, file = "Taules_de_dades/abalone19/abalone19_peque_train_ADOMS.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>abalone19_peque_train_ADOMS <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/abalone19/abalone19_peque_train_ADOMS.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone19_peque_train_ADOMS<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     234      205 </code></pre>
</div>
</div>
</section>
<section id="glass2-3" class="level4">
<h4 class="anchored" data-anchor-id="glass2-3">glass2</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb ADOMS</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>glass2_train_ADOMS <span class="ot">&lt;-</span> <span class="fu">ADOMS</span>(glass2_train, <span class="dv">10</span>, <span class="dv">110</span>)</span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass2_train_ADOMS<span class="sc">$</span>Class)</span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(glass2_train_ADOMS, file = "Taules_de_dades/glass2/glass2_train_ADOMS.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>glass2_train_ADOMS <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass2/glass2_train_ADOMS.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass2_train_ADOMS<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     158      123 </code></pre>
</div>
</div>
</section>
<section id="page-blocks0-3" class="level4">
<h4 class="anchored" data-anchor-id="page-blocks0-3">page-blocks0</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb ADOMS</span></span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>page_blocks0_train_ADOMS <span class="ot">&lt;-</span> <span class="fu">ADOMS</span>(page_blocks0_train, <span class="dv">10</span>, <span class="dv">2500</span>)</span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_train_ADOMS<span class="sc">$</span>Class)</span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(page_blocks0_train_ADOMS, file = "Taules_de_dades/page_blocks0/page_blocks0_train_ADOMS.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>page_blocks0_train_ADOMS <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_train_ADOMS.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_train_ADOMS<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
    3932     2946 </code></pre>
</div>
</div>
<section id="page_blocks0_1-2" class="level5">
<h5 class="anchored" data-anchor-id="page_blocks0_1-2">page_blocks0_1</h5>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb ADOMS</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>page_blocks0_1_train_ADOMS <span class="ot">&lt;-</span> <span class="fu">ADOMS</span>(page_blocks0_1_train, <span class="dv">10</span>, <span class="dv">325</span>)</span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_1_train_ADOMS<span class="sc">$</span>Class)</span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(page_blocks0_1train_ADOMS, file = "Taules_de_dades/page_blocks0/page_blocks0_1_train_ADOMS.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>page_blocks0_1_train_ADOMS <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_1_train_ADOMS.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_1_train_ADOMS<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     404      366 </code></pre>
</div>
</div>
</section>
<section id="page_blocks0_2-2" class="level5">
<h5 class="anchored" data-anchor-id="page_blocks0_2-2">page_blocks0_2</h5>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb ADOMS</span></span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a>page_blocks0_2_train_ADOMS <span class="ot">&lt;-</span> <span class="fu">ADOMS</span>(page_blocks0_2_train, <span class="dv">10</span>, <span class="dv">320</span>)</span>
<span id="cb99-3"><a href="#cb99-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_2_train_ADOMS<span class="sc">$</span>Class)</span>
<span id="cb99-4"><a href="#cb99-4" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(page_blocks0_2_train_ADOMS, file = "Taules_de_dades/page_blocks0/page_blocks0_2_train_ADOMS.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>page_blocks0_2_train_ADOMS <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_2_train_ADOMS.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_2_train_ADOMS<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     405      360 </code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="adasyn" class="level3">
<h3 class="anchored" data-anchor-id="adasyn">ADASYN</h3>
<section id="abalone9_18-4" class="level4">
<h4 class="anchored" data-anchor-id="abalone9_18-4">abalone9_18</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb ADASYN</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>abalone9_18_train_ADASYN <span class="ot">&lt;-</span> <span class="fu">ADASYN</span>(<span class="at">X =</span> abalone9_18_train, <span class="at">k =</span> <span class="dv">12</span>, <span class="at">b =</span> <span class="fl">0.85</span>, <span class="at">dth =</span> <span class="fl">0.8</span>)</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone9_18_train_ADASYN<span class="sc">$</span>Class)</span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(abalone9_18_train_ADASYN, file = "Taules_de_dades/abalone9_18/abalone9_18_train_ADASYN.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>abalone9_18_train_ADASYN <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/abalone9_18/abalone9_18_train_ADASYN.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb103-2"><a href="#cb103-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone9_18_train_ADASYN<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     553      483 </code></pre>
</div>
</div>
</section>
<section id="page_blocks_1_3_4-4" class="level4">
<h4 class="anchored" data-anchor-id="page_blocks_1_3_4-4">page_blocks_1_3_4</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb ADASYN</span></span>
<span id="cb105-2"><a href="#cb105-2" aria-hidden="true" tabindex="-1"></a>page_blocks_1_3_4_train_ADASYN <span class="ot">&lt;-</span> <span class="fu">ADASYN</span>(<span class="at">X =</span> page_blocks_1_3_4_train, <span class="at">k =</span> <span class="dv">12</span>, <span class="at">b =</span> <span class="fl">0.85</span>, <span class="at">dth =</span> <span class="fl">0.8</span>)</span>
<span id="cb105-3"><a href="#cb105-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks_1_3_4_train_ADASYN<span class="sc">$</span>Class)</span>
<span id="cb105-4"><a href="#cb105-4" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(page_blocks_1_3_4_train_ADASYN, file = "Taules_de_dades/page_blocks_1_3_4/page_blocks_1_3_4_train_ADASYN.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>page_blocks_1_3_4_train_ADASYN <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks_1_3_4/page_blocks_1_3_4_train_ADASYN.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks_1_3_4_train_ADASYN<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     361      309 </code></pre>
</div>
</div>
</section>
<section id="glass_0_1_6_vs_2-4" class="level4">
<h4 class="anchored" data-anchor-id="glass_0_1_6_vs_2-4">glass_0_1_6_vs_2</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb ADASYN</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>glass_0_1_6_vs_2_train_ADASYN <span class="ot">&lt;-</span> <span class="fu">ADASYN</span>(<span class="at">X =</span> glass_0_1_6_vs_2_train, <span class="at">k =</span> <span class="dv">8</span>, <span class="at">b =</span> <span class="fl">0.85</span>, <span class="at">dth =</span> <span class="fl">0.8</span>)</span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_6_vs_2_train_ADASYN<span class="sc">$</span>Class)</span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(glass_0_1_6_vs_2_train_ADASYN, file = "Taules_de_dades/glass_0_1_6_vs_2/glass_0_1_6_vs_2_train_ADASYN.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>glass_0_1_6_vs_2_train_ADASYN <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass_0_1_6_vs_2/glass_0_1_6_vs_2_train_ADASYN.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_6_vs_2_train_ADASYN<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     141      126 </code></pre>
</div>
</div>
</section>
<section id="glass_0_1_4_6_vs_2-4" class="level4">
<h4 class="anchored" data-anchor-id="glass_0_1_4_6_vs_2-4">glass_0_1_4_6_vs_2</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb ADASYN</span></span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>glass_0_1_4_6_vs_2_train_ADASYN <span class="ot">&lt;-</span> <span class="fu">ADASYN</span>(<span class="at">X =</span> glass_0_1_4_6_vs_2_train, <span class="at">k =</span> <span class="dv">10</span>, <span class="at">b =</span> <span class="fl">0.8</span>, <span class="at">dth =</span> <span class="fl">0.75</span>)</span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_4_6_vs_2_train_ADASYN<span class="sc">$</span>Class)</span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(glass_0_1_4_6_vs_2_train_ADASYN, file = "Taules_de_dades/glass_0_1_4_6_vs_2/glass_0_1_4_6_vs_2_train_ADASYN.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>glass_0_1_4_6_vs_2_train_ADASYN <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass_0_1_4_6_vs_2/glass_0_1_4_6_vs_2_train_ADASYN.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_4_6_vs_2_train_ADASYN<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     151      135 </code></pre>
</div>
</div>
</section>
<section id="abalone19_peque-4" class="level4">
<h4 class="anchored" data-anchor-id="abalone19_peque-4">abalone19_peque</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb ADASYN</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>abalone19_peque_train_ADASYN <span class="ot">&lt;-</span> <span class="fu">ADASYN</span>(<span class="at">X =</span> abalone19_peque_train, <span class="at">k =</span> <span class="dv">5</span>, <span class="at">b =</span> <span class="fl">0.85</span>, <span class="at">dth =</span> <span class="fl">0.8</span>)</span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone19_peque_train_ADASYN<span class="sc">$</span>Class)</span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(abalone19_peque_train_ADASYN, file = "Taules_de_dades/abalone19/abalone19_peque_train_ADASYN.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a>abalone19_peque_train_ADASYN <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/abalone19/abalone19_peque_train_ADASYN.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone19_peque_train_ADASYN<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     234      198 </code></pre>
</div>
</div>
</section>
<section id="glass2-4" class="level4">
<h4 class="anchored" data-anchor-id="glass2-4">glass2</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb ADASYN</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>glass2_train_ADASYN <span class="ot">&lt;-</span> <span class="fu">ADASYN</span>(<span class="at">X =</span> glass2_train, <span class="at">k =</span> <span class="dv">5</span>, <span class="at">b =</span> <span class="fl">0.85</span>, <span class="at">dth =</span> <span class="fl">0.8</span>)</span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass2_train_ADASYN<span class="sc">$</span>Class)</span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(glass2_train_ADASYN, file = "Taules_de_dades/glass2/glass2_train_ADASYN.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>glass2_train_ADASYN <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass2/glass2_train_ADASYN.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass2_train_ADASYN<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     158      137 </code></pre>
</div>
</div>
</section>
<section id="page-blocks0-4" class="level4">
<h4 class="anchored" data-anchor-id="page-blocks0-4">page-blocks0</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb ADASYN</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>page_blocks0_train_ADASYN <span class="ot">&lt;-</span> <span class="fu">ADASYN</span>(<span class="at">X =</span> page_blocks0_train, <span class="at">k =</span> <span class="dv">6</span>, <span class="at">b =</span> <span class="fl">0.9</span>, <span class="at">dth =</span> <span class="fl">0.85</span>)</span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_train_ADASYN<span class="sc">$</span>Class)</span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(page_blocks0_train_ADASYN, file = "Taules_de_dades/page_blocks0/page_blocks0_train_ADASYN.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>page_blocks0_train_ADASYN <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_train_ADASYN.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_train_ADASYN<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
    3932     3435 </code></pre>
</div>
</div>
<section id="page_blocks0_1-3" class="level5">
<h5 class="anchored" data-anchor-id="page_blocks0_1-3">page_blocks0_1</h5>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb ADASYN</span></span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a>page_blocks0_1_train_ADASYN <span class="ot">&lt;-</span> <span class="fu">ADASYN</span>(<span class="at">X =</span> page_blocks0_1_train, <span class="at">k =</span> <span class="dv">6</span>, <span class="at">b =</span> <span class="fl">0.9</span>, <span class="at">dth =</span> <span class="fl">0.85</span>)</span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_1_train_ADASYN<span class="sc">$</span>Class)</span>
<span id="cb123-4"><a href="#cb123-4" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(page_blocks0_1_train_ADASYN, file = "Taules_de_dades/page_blocks0/page_blocks0_1_train_ADASYN.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>page_blocks0_1_train_ADASYN <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_1_train_ADASYN.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_1_train_ADASYN<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     404      363 </code></pre>
</div>
</div>
</section>
<section id="page_blocks0_2-3" class="level5">
<h5 class="anchored" data-anchor-id="page_blocks0_2-3">page_blocks0_2</h5>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb ADASYN</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>page_blocks0_2_train_ADASYN <span class="ot">&lt;-</span> <span class="fu">ADASYN</span>(<span class="at">X =</span> page_blocks0_2_train, <span class="at">k =</span> <span class="dv">6</span>, <span class="at">b =</span> <span class="fl">0.9</span>, <span class="at">dth =</span> <span class="fl">0.85</span>)</span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_2_train_ADASYN<span class="sc">$</span>Class)</span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(page_blocks0_2_train_ADASYN, file = "Taules_de_dades/page_blocks0/page_blocks0_2_train_ADASYN.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a>page_blocks0_2_train_ADASYN <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_2_train_ADASYN.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_2_train_ADASYN<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     405      358 </code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="safe-level-smote-1" class="level3">
<h3 class="anchored" data-anchor-id="safe-level-smote-1">Safe-Level SMOTE</h3>
<section id="abalone9_18-5" class="level4">
<h4 class="anchored" data-anchor-id="abalone9_18-5">abalone9_18</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb SAFE-LEVEL SMOTE</span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a>abalone9_18_train_SLSMOTE <span class="ot">&lt;-</span> <span class="fu">SL_SMOTE</span>(abalone9_18_train,<span class="dv">18</span>)</span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone9_18_train_SLSMOTE<span class="sc">$</span>Class)</span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone9_18_train<span class="sc">$</span>Class)</span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(abalone9_18_train_SLSMOTE, file = "Taules_de_dades/abalone9_18/abalone9_18_train_SLSMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>abalone9_18_train_SLSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/abalone9_18/abalone9_18_train_SLSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone9_18_train_SLSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     553       63 </code></pre>
</div>
</div>
</section>
<section id="page_blocks_1_3_4-5" class="level4">
<h4 class="anchored" data-anchor-id="page_blocks_1_3_4-5">page_blocks_1_3_4</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb SAFE-LEVEL SMOTE</span></span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>page_blocks_1_3_4_train_SLSMOTE <span class="ot">&lt;-</span> <span class="fu">SL_SMOTE</span>(page_blocks_1_3_4_train,<span class="dv">12</span>)</span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks_1_3_4_train_SLSMOTE<span class="sc">$</span>Class)</span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks_1_3_4_train<span class="sc">$</span>Class)</span>
<span id="cb132-5"><a href="#cb132-5" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(page_blocks_1_3_4_train_SLSMOTE, file = "Taules_de_dades/page_blocks_1_3_4/page_blocks_1_3_4_train_SLSMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a>page_blocks_1_3_4_train_SLSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks_1_3_4/page_blocks_1_3_4_train_SLSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks_1_3_4_train_SLSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     361       34 </code></pre>
</div>
</div>
</section>
<section id="glass_0_1_6_vs_2-5" class="level4">
<h4 class="anchored" data-anchor-id="glass_0_1_6_vs_2-5">glass_0_1_6_vs_2</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb135"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb SAFE-LEVEL SMOTE</span></span>
<span id="cb135-2"><a href="#cb135-2" aria-hidden="true" tabindex="-1"></a>glass_0_1_6_vs_2_train_SLSMOTE <span class="ot">&lt;-</span> <span class="fu">SL_SMOTE</span>(glass_0_1_6_vs_2_train,<span class="dv">8</span>)</span>
<span id="cb135-3"><a href="#cb135-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_6_vs_2_train_SLSMOTE<span class="sc">$</span>Class)</span>
<span id="cb135-4"><a href="#cb135-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_6_vs_2_train<span class="sc">$</span>Class)</span>
<span id="cb135-5"><a href="#cb135-5" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(glass_0_1_6_vs_2_train_SLSMOTE, file = "Taules_de_dades/glass_0_1_6_vs_2/glass_0_1_6_vs_2_train_SLSMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>glass_0_1_6_vs_2_train_SLSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass_0_1_6_vs_2/glass_0_1_6_vs_2_train_SLSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_6_vs_2_train_SLSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     141       26 </code></pre>
</div>
</div>
</section>
<section id="glass_0_1_4_6_vs_2-5" class="level4">
<h4 class="anchored" data-anchor-id="glass_0_1_4_6_vs_2-5">glass_0_1_4_6_vs_2</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb SAFE-LEVEL SMOTE</span></span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>glass_0_1_4_6_vs_2_train_SLSMOTE <span class="ot">&lt;-</span> <span class="fu">SL_SMOTE</span>(glass_0_1_4_6_vs_2_train,<span class="dv">8</span>)</span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_4_6_vs_2_train_SLSMOTE<span class="sc">$</span>Class)</span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_4_6_vs_2_train<span class="sc">$</span>Class)</span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(glass_0_1_4_6_vs_2_train_SLSMOTE, file = "Taules_de_dades/glass_0_1_4_6_vs_2/glass_0_1_4_6_vs_2_train_SLSMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb139"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" aria-hidden="true" tabindex="-1"></a>glass_0_1_4_6_vs_2_train_SLSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass_0_1_4_6_vs_2/glass_0_1_4_6_vs_2_train_SLSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb139-2"><a href="#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_4_6_vs_2_train_SLSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     151       22 </code></pre>
</div>
</div>
</section>
<section id="abalone19_peque-5" class="level4">
<h4 class="anchored" data-anchor-id="abalone19_peque-5">abalone19_peque</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb141"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb SAFE-LEVEL SMOTE</span></span>
<span id="cb141-2"><a href="#cb141-2" aria-hidden="true" tabindex="-1"></a>abalone19_peque_train_SLSMOTE <span class="ot">&lt;-</span> <span class="fu">SL_SMOTE</span>(abalone19_peque_train,<span class="dv">10</span>)</span>
<span id="cb141-3"><a href="#cb141-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone19_peque_train_SLSMOTE<span class="sc">$</span>Class)</span>
<span id="cb141-4"><a href="#cb141-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone19_peque_train<span class="sc">$</span>Class)</span>
<span id="cb141-5"><a href="#cb141-5" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(abalone19_peque_train_SLSMOTE, file = "Taules_de_dades/abalone19/abalone19_peque_train_SLSMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a>abalone19_peque_train_SLSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/abalone19/abalone19_peque_train_SLSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone19_peque_train_SLSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     234       41 </code></pre>
</div>
</div>
</section>
<section id="glass2-5" class="level4">
<h4 class="anchored" data-anchor-id="glass2-5">glass2</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb SAFE-LEVEL SMOTE</span></span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a>glass2_train_SLSMOTE <span class="ot">&lt;-</span> <span class="fu">SL_SMOTE</span>(glass2_train,<span class="dv">9</span>)</span>
<span id="cb144-3"><a href="#cb144-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass2_train_SLSMOTE<span class="sc">$</span>Class)</span>
<span id="cb144-4"><a href="#cb144-4" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(glass2_train_SLSMOTE, file = "Taules_de_dades/glass2/glass2_train_SLSMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a>glass2_train_SLSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass2/glass2_train_SLSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb145-2"><a href="#cb145-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass2_train_SLSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     158       26 </code></pre>
</div>
</div>
</section>
<section id="page-blocks0-5" class="level4">
<h4 class="anchored" data-anchor-id="page-blocks0-5">page-blocks0</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb SAFE-LEVEL SMOTE</span></span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>page_blocks0_train_SLSMOTE <span class="ot">&lt;-</span> <span class="fu">SL_SMOTE</span>(page_blocks0_train,<span class="dv">10</span>)</span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_train_SLSMOTE<span class="sc">$</span>Class)</span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(page_blocks0_train_SLSMOTE, file = "Taules_de_dades/page_blocks0/page_blocks0_train_SLSMOTE.csv", row.names = FALSE)</span></span>
<span id="cb147-5"><a href="#cb147-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_train<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb148"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb148-1"><a href="#cb148-1" aria-hidden="true" tabindex="-1"></a>page_blocks0_train_SLSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_train_SLSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb148-2"><a href="#cb148-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_train_SLSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
    3932      450 </code></pre>
</div>
</div>
<section id="page_blocks0_1-4" class="level5">
<h5 class="anchored" data-anchor-id="page_blocks0_1-4">page_blocks0_1</h5>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb SAFE-LEVEL SMOTE</span></span>
<span id="cb150-2"><a href="#cb150-2" aria-hidden="true" tabindex="-1"></a>page_blocks0_1_train_SLSMOTE <span class="ot">&lt;-</span> <span class="fu">SL_SMOTE</span>(page_blocks0_1_train,<span class="dv">25</span>)</span>
<span id="cb150-3"><a href="#cb150-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_1_train_SLSMOTE<span class="sc">$</span>Class)</span>
<span id="cb150-4"><a href="#cb150-4" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(page_blocks0_1_train_SLSMOTE, file = "Taules_de_dades/page_blocks0/page_blocks0_1_train_SLSMOTE.csv", row.names = FALSE)</span></span>
<span id="cb150-5"><a href="#cb150-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_1_train<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb151"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" aria-hidden="true" tabindex="-1"></a>page_blocks0_1_train_SLSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_1_train_SLSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb151-2"><a href="#cb151-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_1_train_SLSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     404       55 </code></pre>
</div>
</div>
</section>
<section id="page_blocks0_2-4" class="level5">
<h5 class="anchored" data-anchor-id="page_blocks0_2-4">page_blocks0_2</h5>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb153"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb SAFE-LEVEL SMOTE</span></span>
<span id="cb153-2"><a href="#cb153-2" aria-hidden="true" tabindex="-1"></a>page_blocks0_2_train_SLSMOTE <span class="ot">&lt;-</span> <span class="fu">SL_SMOTE</span>(page_blocks0_2_train, <span class="dv">26</span>)</span>
<span id="cb153-3"><a href="#cb153-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_2_train_SLSMOTE<span class="sc">$</span>Class)</span>
<span id="cb153-4"><a href="#cb153-4" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(page_blocks0_2_train_SLSMOTE, file = "Taules_de_dades/page_blocks0/page_blocks0_2_train_SLSMOTE.csv", row.names = FALSE)</span></span>
<span id="cb153-5"><a href="#cb153-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_2_train<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a>page_blocks0_2_train_SLSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_2_train_SLSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb154-2"><a href="#cb154-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_2_train_SLSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     405       51 </code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="dbsmote-1" class="level3">
<h3 class="anchored" data-anchor-id="dbsmote-1">DBSMOTE</h3>
<section id="abalone9_18-6" class="level4">
<h4 class="anchored" data-anchor-id="abalone9_18-6">abalone9_18</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a>abalone9_18_train_DBSMOTE <span class="ot">&lt;-</span> smotefamily<span class="sc">::</span><span class="fu">DBSMOTE</span>(abalone9_18_train[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="fu">ncol</span>(abalone9_18_train))], abalone9_18_train[,<span class="fu">ncol</span>(abalone9_18_train)])</span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-3"><a href="#cb156-3" aria-hidden="true" tabindex="-1"></a>abalone9_18_train_DBSMOTE <span class="ot">&lt;-</span> abalone9_18_train_DBSMOTE<span class="sc">$</span>data <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">Class=</span>class)<span class="sc">%&gt;%</span> </span>
<span id="cb156-4"><a href="#cb156-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">idx =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(abalone9_18_train_DBSMOTE<span class="sc">$</span>data))) <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(idx)</span>
<span id="cb156-5"><a href="#cb156-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-6"><a href="#cb156-6" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone9_18_train<span class="sc">$</span>Class)</span>
<span id="cb156-7"><a href="#cb156-7" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone9_18_train_DBSMOTE<span class="sc">$</span>Class)</span>
<span id="cb156-8"><a href="#cb156-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-9"><a href="#cb156-9" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(abalone9_18_train_DBSMOTE, file = "Taules_de_dades/abalone9_18/abalone9_18_train_DBSMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb157"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" aria-hidden="true" tabindex="-1"></a>abalone9_18_train_DBSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/abalone9_18/abalone9_18_train_DBSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb157-2"><a href="#cb157-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone9_18_train_DBSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="page_blocks_1_3_4-6" class="level4">
<h4 class="anchored" data-anchor-id="page_blocks_1_3_4-6">page_blocks_1_3_4</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a>page_blocks_1_3_4_train_DBSMOTE <span class="ot">&lt;-</span> smotefamily<span class="sc">::</span><span class="fu">DBSMOTE</span>(page_blocks_1_3_4_train[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="fu">ncol</span>(page_blocks_1_3_4_train))], page_blocks_1_3_4_train[,<span class="fu">ncol</span>(page_blocks_1_3_4_train)])</span>
<span id="cb158-2"><a href="#cb158-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-3"><a href="#cb158-3" aria-hidden="true" tabindex="-1"></a>page_blocks_1_3_4_train_DBSMOTE <span class="ot">&lt;-</span> page_blocks_1_3_4_train_DBSMOTE<span class="sc">$</span>data <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">Class=</span>class)<span class="sc">%&gt;%</span> </span>
<span id="cb158-4"><a href="#cb158-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">idx =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(page_blocks_1_3_4_train_DBSMOTE<span class="sc">$</span>data))) <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(idx)</span>
<span id="cb158-5"><a href="#cb158-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-6"><a href="#cb158-6" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks_1_3_4_train<span class="sc">$</span>Class)</span>
<span id="cb158-7"><a href="#cb158-7" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks_1_3_4_train_DBSMOTE<span class="sc">$</span>Class)</span>
<span id="cb158-8"><a href="#cb158-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-9"><a href="#cb158-9" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(page_blocks_1_3_4_train_DBSMOTE, file = "Taules_de_dades/page_blocks_1_3_4/page_blocks_1_3_4_train_DBSMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb159"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb159-1"><a href="#cb159-1" aria-hidden="true" tabindex="-1"></a>page_blocks_1_3_4_train_DBSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks_1_3_4/page_blocks_1_3_4_train_DBSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb159-2"><a href="#cb159-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks_1_3_4_train_DBSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="glass_0_1_6_vs_2-6" class="level4">
<h4 class="anchored" data-anchor-id="glass_0_1_6_vs_2-6">glass_0_1_6_vs_2</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb DBSMOTE</span></span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a>glass_0_1_6_vs_2_train_DBSMOTE <span class="ot">&lt;-</span> <span class="fu">DBSMOTE</span>(glass_0_1_6_vs_2_train, <span class="dv">1</span>, <span class="dv">4</span>)</span>
<span id="cb160-3"><a href="#cb160-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_6_vs_2_train_DBSMOTE<span class="sc">$</span>Class)</span>
<span id="cb160-4"><a href="#cb160-4" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(glass_0_1_6_vs_2_train_DBSMOTE, file = "Taules_de_dades/glass_0_1_6_vs_2/glass_0_1_6_vs_2_train_DBSMOTE.csv", row.names = FALSE)</span></span>
<span id="cb160-5"><a href="#cb160-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_6_vs_2_train<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="glass_0_1_4_6_vs_2-6" class="level4">
<h4 class="anchored" data-anchor-id="glass_0_1_4_6_vs_2-6">glass_0_1_4_6_vs_2</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb161"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb161-1"><a href="#cb161-1" aria-hidden="true" tabindex="-1"></a>glass_0_1_4_6_vs_2_train_DBSMOTE <span class="ot">&lt;-</span> smotefamily<span class="sc">::</span><span class="fu">DBSMOTE</span>(glass_0_1_4_6_vs_2_train[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="fu">ncol</span>(glass_0_1_4_6_vs_2_train))], glass_0_1_4_6_vs_2_train[,<span class="fu">ncol</span>(glass_0_1_4_6_vs_2_train)])</span>
<span id="cb161-2"><a href="#cb161-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-3"><a href="#cb161-3" aria-hidden="true" tabindex="-1"></a>glass_0_1_4_6_vs_2_train_DBSMOTE <span class="ot">&lt;-</span> glass_0_1_4_6_vs_2_train_DBSMOTE<span class="sc">$</span>data <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">Class=</span>class)<span class="sc">%&gt;%</span> </span>
<span id="cb161-4"><a href="#cb161-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">idx =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(glass_0_1_4_6_vs_2_train_DBSMOTE<span class="sc">$</span>data))) <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(idx)</span>
<span id="cb161-5"><a href="#cb161-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-6"><a href="#cb161-6" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_4_6_vs_2_train<span class="sc">$</span>Class)</span>
<span id="cb161-7"><a href="#cb161-7" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_4_6_vs_2_train_DBSMOTE<span class="sc">$</span>Class)</span>
<span id="cb161-8"><a href="#cb161-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-9"><a href="#cb161-9" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(glass_0_1_4_6_vs_2_train_DBSMOTE, file = "Taules_de_dades/glass_0_1_4_6_vs_2/glass_0_1_4_6_vs_2_train_DBSMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a>glass_0_1_4_6_vs_2_train_DBSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass_0_1_4_6_vs_2/glass_0_1_4_6_vs_2_train_DBSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb162-2"><a href="#cb162-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_4_6_vs_2_train_DBSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="abalone19_peque-6" class="level4">
<h4 class="anchored" data-anchor-id="abalone19_peque-6">abalone19_peque</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb163"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" aria-hidden="true" tabindex="-1"></a>abalone19_peque_train_DBSMOTE <span class="ot">&lt;-</span> smotefamily<span class="sc">::</span><span class="fu">DBSMOTE</span>(abalone19_peque_train[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="fu">ncol</span>(abalone19_peque_train))], abalone19_peque_train[,<span class="fu">ncol</span>(abalone19_peque_train)])</span>
<span id="cb163-2"><a href="#cb163-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-3"><a href="#cb163-3" aria-hidden="true" tabindex="-1"></a>abalone19_peque_train_DBSMOTE <span class="ot">&lt;-</span> abalone19_peque_train_DBSMOTE<span class="sc">$</span>data <span class="sc">%&gt;%</span> <span class="fu">rename</span>(<span class="at">Class=</span>class)<span class="sc">%&gt;%</span> </span>
<span id="cb163-4"><a href="#cb163-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">idx =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(abalone19_peque_train_DBSMOTE<span class="sc">$</span>data))) <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(idx)</span>
<span id="cb163-5"><a href="#cb163-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-6"><a href="#cb163-6" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone19_peque_train<span class="sc">$</span>Class)</span>
<span id="cb163-7"><a href="#cb163-7" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone19_peque_train_DBSMOTE<span class="sc">$</span>Class)</span>
<span id="cb163-8"><a href="#cb163-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-9"><a href="#cb163-9" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(abalone19_peque_train_DBSMOTE, file = "Taules_de_dades/abalone19/abalone19_peque_train_DBSMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a>abalone19_peque_train_DBSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/abalone19_peque/abalone19_peque_train_DBSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone19_peque_train_DBSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="glass2-6" class="level4">
<h4 class="anchored" data-anchor-id="glass2-6">glass2</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb165"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb DBSMOTE</span></span>
<span id="cb165-2"><a href="#cb165-2" aria-hidden="true" tabindex="-1"></a>glass2_train_DBSMOTE <span class="ot">&lt;-</span> <span class="fu">DBSMOTE</span>(glass2_train, <span class="dv">1</span>,<span class="dv">5</span>)</span>
<span id="cb165-3"><a href="#cb165-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass2_train_DBSMOTE<span class="sc">$</span>Class)</span>
<span id="cb165-4"><a href="#cb165-4" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(glass2_train_DBSMOTE, file = "Taules_de_dades/glass2/glass2_train_DBSMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a>glass2_train_DBSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass2/glass2_train_DBSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb166-2"><a href="#cb166-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass2_train_DBSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     158       23 </code></pre>
</div>
</div>
</section>
<section id="page-blocks0-6" class="level4">
<h4 class="anchored" data-anchor-id="page-blocks0-6">page-blocks0</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb DBSMOTE</span></span>
<span id="cb168-2"><a href="#cb168-2" aria-hidden="true" tabindex="-1"></a>page_blocks0_train_DBSMOTE <span class="ot">&lt;-</span> <span class="fu">DBSMOTE</span>(page_blocks0_train, <span class="dv">50</span>, <span class="dv">9</span>)</span>
<span id="cb168-3"><a href="#cb168-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_train_DBSMOTE<span class="sc">$</span>Class)</span>
<span id="cb168-4"><a href="#cb168-4" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(page_blocks0_train_DBSMOTE, file = "Taules_de_dades/page_blocks0/page_blocks0_train_DBSMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb169"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" aria-hidden="true" tabindex="-1"></a>page_blocks0_train_DBSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_train_DBSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb169-2"><a href="#cb169-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_train_DBSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
    3932      689 </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb171"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb171-1"><a href="#cb171-1" aria-hidden="true" tabindex="-1"></a>exemple_DBSMOTE2 <span class="ot">&lt;-</span> smotefamily<span class="sc">::</span><span class="fu">DBSMOTE</span>(page_blocks0_train[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="fu">ncol</span>(page_blocks0_train))], page_blocks0_train[,<span class="fu">ncol</span>(page_blocks0_train)]); exemple_DBSMOTE2</span>
<span id="cb171-2"><a href="#cb171-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-3"><a href="#cb171-3" aria-hidden="true" tabindex="-1"></a>exemple_balancejat2 <span class="ot">&lt;-</span> exemple_DBSMOTE2<span class="sc">$</span>data <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">Class=</span>class)<span class="sc">%&gt;%</span> </span>
<span id="cb171-4"><a href="#cb171-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">idx =</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(exemple_DBSMOTE2<span class="sc">$</span>data))) <span class="sc">%&gt;%</span> <span class="fu">relocate</span>(idx)</span>
<span id="cb171-5"><a href="#cb171-5" aria-hidden="true" tabindex="-1"></a>train_DBSMOTE <span class="ot">&lt;-</span> exemple_balancejat2[,<span class="sc">-</span>(<span class="fu">ncol</span>(exemple_balancejat2)<span class="sc">-</span><span class="dv">1</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="page_blocks0_1-5" class="level5">
<h5 class="anchored" data-anchor-id="page_blocks0_1-5">page_blocks0_1</h5>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb DBSMOTE</span></span>
<span id="cb172-2"><a href="#cb172-2" aria-hidden="true" tabindex="-1"></a>page_blocks0_1_train_DBSMOTE <span class="ot">&lt;-</span> <span class="fu">DBSMOTE</span>(page_blocks0_1_train, <span class="dv">50</span>, <span class="dv">9</span>)</span>
<span id="cb172-3"><a href="#cb172-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_1_train_DBSMOTE<span class="sc">$</span>Class)</span>
<span id="cb172-4"><a href="#cb172-4" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(page_blocks0_1_train_DBSMOTE, file = "Taules_de_dades/page_blocks0/page_blocks0_1_train_DBSMOTE.csv", row.names = FALSE)</span></span>
<span id="cb172-5"><a href="#cb172-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_1_train<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a>page_blocks0_1_train_DBSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_1_train_DBSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb173-2"><a href="#cb173-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_1_train_DBSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     404       60 </code></pre>
</div>
</div>
</section>
<section id="page_blocks0_2-5" class="level5">
<h5 class="anchored" data-anchor-id="page_blocks0_2-5">page_blocks0_2</h5>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb DBSMOTE</span></span>
<span id="cb175-2"><a href="#cb175-2" aria-hidden="true" tabindex="-1"></a>page_blocks0_2_train_DBSMOTE <span class="ot">&lt;-</span> <span class="fu">DBSMOTE</span>(page_blocks0_2_train, <span class="dv">50</span>, <span class="dv">9</span>)</span>
<span id="cb175-3"><a href="#cb175-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_2_train_DBSMOTE<span class="sc">$</span>Class)</span>
<span id="cb175-4"><a href="#cb175-4" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(page_blocks0_2_train_DBSMOTE, file = "Taules_de_dades/page_blocks0/page_blocks0_2_train_DBSMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb176"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a>page_blocks0_2_train_DBSMOTE <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_2_train_DBSMOTE.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb176-2"><a href="#cb176-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_2_train_DBSMOTE<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     405       62 </code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="mwmote" class="level3">
<h3 class="anchored" data-anchor-id="mwmote">MWMOTE</h3>
<section id="abalone9_18-7" class="level4">
<h4 class="anchored" data-anchor-id="abalone9_18-7">abalone9_18</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb178"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb MWMOTE</span></span>
<span id="cb178-2"><a href="#cb178-2" aria-hidden="true" tabindex="-1"></a>abalone9_18_train_MWMOTE <span class="ot">&lt;-</span> <span class="fu">MWMOTE</span>(abalone9_18_train, <span class="dv">470</span>,<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">9</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>)</span>
<span id="cb178-3"><a href="#cb178-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone9_18_train<span class="sc">$</span>Class)</span>
<span id="cb178-4"><a href="#cb178-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone9_18_train_MWMOTE<span class="sc">$</span>Class)</span>
<span id="cb178-5"><a href="#cb178-5" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(abalone9_18_train_MWMOTE, file = "Taules_de_dades/abalone9_18/abalone9_18_train_MWMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="page_blocks_1_3_4-7" class="level4">
<h4 class="anchored" data-anchor-id="page_blocks_1_3_4-7">page_blocks_1_3_4</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb179"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb179-1"><a href="#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb MWMOTE</span></span>
<span id="cb179-2"><a href="#cb179-2" aria-hidden="true" tabindex="-1"></a>page_blocks_1_3_4_train_MWMOTE <span class="ot">&lt;-</span> <span class="fu">MWMOTE3</span>(page_blocks_1_3_4_train, <span class="dv">200</span>,<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">9</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>)</span>
<span id="cb179-3"><a href="#cb179-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks_1_3_4_train<span class="sc">$</span>Class)</span>
<span id="cb179-4"><a href="#cb179-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks_1_3_4_train_MWMOTE<span class="sc">$</span>Class)</span>
<span id="cb179-5"><a href="#cb179-5" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(page_blocks_1_3_4_train_MWMOTE, file = "Taules_de_dades/page_blocks_1_3_4/page_blocks_1_3_4_train_MWMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="glass_0_1_6_vs_2-7" class="level4">
<h4 class="anchored" data-anchor-id="glass_0_1_6_vs_2-7">glass_0_1_6_vs_2</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb MWMOTE</span></span>
<span id="cb180-2"><a href="#cb180-2" aria-hidden="true" tabindex="-1"></a>glass_0_1_6_vs_2_train_MWMOTE <span class="ot">&lt;-</span> <span class="fu">MWMOTE</span>(glass_0_1_6_vs_2_train, <span class="dv">110</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>)</span>
<span id="cb180-3"><a href="#cb180-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_6_vs_2_train<span class="sc">$</span>Class)</span>
<span id="cb180-4"><a href="#cb180-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_6_vs_2_train_MWMOTE<span class="sc">$</span>Class)</span>
<span id="cb180-5"><a href="#cb180-5" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(glass_0_1_6_vs_2_train_MWMOTE, file = "Taules_de_dades/glass_0_1_6_vs_2/glass_0_1_6_vs_2_train_MWMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="glass_0_1_4_6_vs_2-7" class="level4">
<h4 class="anchored" data-anchor-id="glass_0_1_4_6_vs_2-7">glass_0_1_4_6_vs_2</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb MWMOTE</span></span>
<span id="cb181-2"><a href="#cb181-2" aria-hidden="true" tabindex="-1"></a>glass_0_1_4_6_vs_2_train_MWMOTE <span class="ot">&lt;-</span> <span class="fu">MWMOTE</span>(glass_0_1_4_6_vs_2_train, <span class="dv">120</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>)</span>
<span id="cb181-3"><a href="#cb181-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_4_6_vs_2_train<span class="sc">$</span>Class)</span>
<span id="cb181-4"><a href="#cb181-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_4_6_vs_2_train_MWMOTE<span class="sc">$</span>Class)</span>
<span id="cb181-5"><a href="#cb181-5" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(glass_0_1_4_6_vs_2_train_MWMOTE, file = "Taules_de_dades/glass_0_1_4_6_vs_2/glass_0_1_4_6_vs_2_train_MWMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="abalone19_peque-7" class="level4">
<h4 class="anchored" data-anchor-id="abalone19_peque-7">abalone19_peque</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb MWMOTE</span></span>
<span id="cb182-2"><a href="#cb182-2" aria-hidden="true" tabindex="-1"></a>abalone19_peque_train_MWMOTE <span class="ot">&lt;-</span> <span class="fu">MWMOTE</span>(abalone19_peque_train, <span class="dv">200</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>)</span>
<span id="cb182-3"><a href="#cb182-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone19_peque_train<span class="sc">$</span>Class)</span>
<span id="cb182-4"><a href="#cb182-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone19_peque_train_MWMOTE<span class="sc">$</span>Class)</span>
<span id="cb182-5"><a href="#cb182-5" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(abalone19_peque_train_MWMOTE, file = "Taules_de_dades/abalone19/abalone19_peque_train_MWMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="glass2-7" class="level4">
<h4 class="anchored" data-anchor-id="glass2-7">glass2</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb MWMOTE</span></span>
<span id="cb183-2"><a href="#cb183-2" aria-hidden="true" tabindex="-1"></a>glass2_train_MWMOTE <span class="ot">&lt;-</span> <span class="fu">MWMOTE3</span>(glass2_train, <span class="dv">110</span>,<span class="dv">4</span>,<span class="dv">7</span>,<span class="dv">9</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>)</span>
<span id="cb183-3"><a href="#cb183-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass2_train<span class="sc">$</span>Class)</span>
<span id="cb183-4"><a href="#cb183-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass2_train_MWMOTE<span class="sc">$</span>Class)</span>
<span id="cb183-5"><a href="#cb183-5" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(glass2_train_MWMOTE, file = "Taules_de_dades/glass2/glass2_train_MWMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="page_blocks0" class="level4">
<h4 class="anchored" data-anchor-id="page_blocks0">page_blocks0</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb184"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb184-1"><a href="#cb184-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb MWMOTE</span></span>
<span id="cb184-2"><a href="#cb184-2" aria-hidden="true" tabindex="-1"></a>page_blocks0_train_MWMOTE <span class="ot">&lt;-</span> <span class="fu">MWMOTE</span>(page_blocks0_train,<span class="dv">1500</span>,<span class="dv">60</span>,<span class="dv">100</span>,<span class="dv">200</span>,<span class="dv">23</span>,<span class="dv">22</span>,<span class="dv">24</span>)</span>
<span id="cb184-3"><a href="#cb184-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_train<span class="sc">$</span>Class)</span>
<span id="cb184-4"><a href="#cb184-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_train_MWMOTE<span class="sc">$</span>Class)</span>
<span id="cb184-5"><a href="#cb184-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-6"><a href="#cb184-6" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(page_blocks0_train_MWMOTE, file = "Taules_de_dades/page_blocks0/page_blocks0_train_MWMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="page_blocks0_1-6" class="level5">
<h5 class="anchored" data-anchor-id="page_blocks0_1-6">page_blocks0_1</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb MWMOTE</span></span>
<span id="cb185-2"><a href="#cb185-2" aria-hidden="true" tabindex="-1"></a>page_blocks0_1_train_MWMOTE <span class="ot">&lt;-</span> <span class="fu">MWMOTE3</span>(page_blocks0_1_train, <span class="dv">200</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>)</span>
<span id="cb185-3"><a href="#cb185-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_1_train<span class="sc">$</span>Class)</span>
<span id="cb185-4"><a href="#cb185-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_1_train_MWMOTE<span class="sc">$</span>Class)</span>
<span id="cb185-5"><a href="#cb185-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb185-6"><a href="#cb185-6" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(page_blocks0_1_train_MWMOTE, file = "Taules_de_dades/page_blocks0/page_blocks0_1_train_MWMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="page_blocks0_2-6" class="level5">
<h5 class="anchored" data-anchor-id="page_blocks0_2-6">page_blocks0_2</h5>
<div class="cell">
<div class="sourceCode cell-code" id="cb186"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb186-1"><a href="#cb186-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb MWMOTE</span></span>
<span id="cb186-2"><a href="#cb186-2" aria-hidden="true" tabindex="-1"></a>page_blocks0_2_train_MWMOTE <span class="ot">&lt;-</span> <span class="fu">MWMOTE3</span>(page_blocks0_2_train, <span class="dv">200</span>,<span class="dv">2</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">2</span>,<span class="dv">2</span>)</span>
<span id="cb186-3"><a href="#cb186-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_2_train<span class="sc">$</span>Class)</span>
<span id="cb186-4"><a href="#cb186-4" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_2_train_MWMOTE<span class="sc">$</span>Class)</span>
<span id="cb186-5"><a href="#cb186-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb186-6"><a href="#cb186-6" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(page_blocks0_2_train_MWMOTE, file = "Taules_de_dades/page_blocks0/page_blocks0_2_train_MWMOTE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="mdo" class="level3">
<h3 class="anchored" data-anchor-id="mdo">MDO</h3>
<section id="abalone9_18-8" class="level4">
<h4 class="anchored" data-anchor-id="abalone9_18-8">abalone9_18</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb187"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb MDO</span></span>
<span id="cb187-2"><a href="#cb187-2" aria-hidden="true" tabindex="-1"></a>abalone9_18_train_MDO <span class="ot">&lt;-</span> <span class="fu">MDO</span>(abalone9_18_train, <span class="dv">3</span>,<span class="dv">10</span>)</span>
<span id="cb187-3"><a href="#cb187-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone9_18_train_MDO<span class="sc">$</span>Class)</span>
<span id="cb187-4"><a href="#cb187-4" aria-hidden="true" tabindex="-1"></a><span class="co"># PROBLEMA: no control es nombre de dades que se fan</span></span>
<span id="cb187-5"><a href="#cb187-5" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(abalone9_18_train_MDO, file = "Taules_de_dades/abalone9_18/abalone9_18_train_MDO.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb188"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb188-1"><a href="#cb188-1" aria-hidden="true" tabindex="-1"></a>abalone9_18_train_MDO <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/abalone9_18/abalone9_18_train_MDO.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb188-2"><a href="#cb188-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone9_18_train_MDO<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     553      573 </code></pre>
</div>
</div>
</section>
<section id="page_blocks_1_3_4-8" class="level4">
<h4 class="anchored" data-anchor-id="page_blocks_1_3_4-8">page_blocks_1_3_4</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb190"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb190-1"><a href="#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb MDO</span></span>
<span id="cb190-2"><a href="#cb190-2" aria-hidden="true" tabindex="-1"></a>page_blocks_1_3_4_train_MDO <span class="ot">&lt;-</span> <span class="fu">MDO</span>(page_blocks_1_3_4_train, <span class="dv">3</span>,<span class="dv">8</span>)</span>
<span id="cb190-3"><a href="#cb190-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks_1_3_4_train_MDO<span class="sc">$</span>Class)</span>
<span id="cb190-4"><a href="#cb190-4" aria-hidden="true" tabindex="-1"></a><span class="co"># PROBLEMA: no control es nombre de dades que se fan</span></span>
<span id="cb190-5"><a href="#cb190-5" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(page_blocks_1_3_4_train_MDO, file = "Taules_de_dades/page_blocks_1_3_4/page_blocks_1_3_4_train_MDO.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb191"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a>page_blocks_1_3_4_train_MDO <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks_1_3_4/page_blocks_1_3_4_train_MDO.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb191-2"><a href="#cb191-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks_1_3_4_train_MDO<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     361      366 </code></pre>
</div>
</div>
</section>
<section id="glass_0_1_6_vs_2-8" class="level4">
<h4 class="anchored" data-anchor-id="glass_0_1_6_vs_2-8">glass_0_1_6_vs_2</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb193"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb193-1"><a href="#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb MDO</span></span>
<span id="cb193-2"><a href="#cb193-2" aria-hidden="true" tabindex="-1"></a>glass_0_1_6_vs_2_train_MDO <span class="ot">&lt;-</span> <span class="fu">MDO</span>(glass_0_1_6_vs_2_train, <span class="dv">2</span>,<span class="dv">7</span>)</span>
<span id="cb193-3"><a href="#cb193-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_6_vs_2_train_MDO<span class="sc">$</span>Class)</span>
<span id="cb193-4"><a href="#cb193-4" aria-hidden="true" tabindex="-1"></a><span class="co"># PROBLEMA: no control es nombre de dades que se fan</span></span>
<span id="cb193-5"><a href="#cb193-5" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(glass_0_1_6_vs_2_train_MDO, file = "Taules_de_dades/glass_0_1_6_vs_2/glass_0_1_6_vs_2_train_MDO.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="glass_0_1_4_6_vs_2-8" class="level4">
<h4 class="anchored" data-anchor-id="glass_0_1_4_6_vs_2-8">glass_0_1_4_6_vs_2</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb194"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb194-1"><a href="#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb MDO</span></span>
<span id="cb194-2"><a href="#cb194-2" aria-hidden="true" tabindex="-1"></a>glass_0_1_4_6_vs_2_train_MDO <span class="ot">&lt;-</span> <span class="fu">MDO</span>(glass_0_1_4_6_vs_2_train, <span class="dv">2</span>,<span class="dv">7</span>)</span>
<span id="cb194-3"><a href="#cb194-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_4_6_vs_2_train_MDO<span class="sc">$</span>Class)</span>
<span id="cb194-4"><a href="#cb194-4" aria-hidden="true" tabindex="-1"></a><span class="co"># PROBLEMA: no control es nombre de dades que se fan</span></span>
<span id="cb194-5"><a href="#cb194-5" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(glass_0_1_4_6_vs_2_train_MDO, file = "Taules_de_dades/glass_0_1_4_6_vs_2/glass_0_1_4_6_vs_2_train_MDO.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="abalone19_peque-8" class="level4">
<h4 class="anchored" data-anchor-id="abalone19_peque-8">abalone19_peque</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb195"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb195-1"><a href="#cb195-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb MDO</span></span>
<span id="cb195-2"><a href="#cb195-2" aria-hidden="true" tabindex="-1"></a>abalone19_peque_train_MDO <span class="ot">&lt;-</span> <span class="fu">MDO</span>(abalone19_peque_train, <span class="dv">1</span>,<span class="dv">4</span>)</span>
<span id="cb195-3"><a href="#cb195-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone19_peque_train_MDO<span class="sc">$</span>Class)</span>
<span id="cb195-4"><a href="#cb195-4" aria-hidden="true" tabindex="-1"></a><span class="co"># PROBLEMA: no control es nombre de dades que se fan</span></span>
<span id="cb195-5"><a href="#cb195-5" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(abalone19_peque_train_MDO, file = "Taules_de_dades/abalone19/abalone19_peque_train_MDO.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="glass2-8" class="level4">
<h4 class="anchored" data-anchor-id="glass2-8">glass2</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb196"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb196-1"><a href="#cb196-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb MDO</span></span>
<span id="cb196-2"><a href="#cb196-2" aria-hidden="true" tabindex="-1"></a>glass2_train_MDO <span class="ot">&lt;-</span> <span class="fu">MDO</span>(glass2_train,<span class="dv">1</span>,<span class="dv">13</span>)</span>
<span id="cb196-3"><a href="#cb196-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass2_train_MDO<span class="sc">$</span>Class)</span>
<span id="cb196-4"><a href="#cb196-4" aria-hidden="true" tabindex="-1"></a><span class="co"># PROBLEMA: no control es nombre de dades que se fan</span></span>
<span id="cb196-5"><a href="#cb196-5" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(glass2_train_MDO, <span class="at">file =</span> <span class="st">"Taules_de_dades/glass2/glass2_train_MDO.csv"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb197"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb197-1"><a href="#cb197-1" aria-hidden="true" tabindex="-1"></a>glass2_train_MDO <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/glass2/glass2_train_MDO.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb197-2"><a href="#cb197-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass2_train_MDO<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     158      161 </code></pre>
</div>
</div>
</section>
<section id="page-blocks0-7" class="level4">
<h4 class="anchored" data-anchor-id="page-blocks0-7">page-blocks0</h4>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb199"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb199-1"><a href="#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb MDO</span></span>
<span id="cb199-2"><a href="#cb199-2" aria-hidden="true" tabindex="-1"></a>page_blocks0_train_MDO <span class="ot">&lt;-</span> <span class="fu">MDO</span>(page_blocks0_train, <span class="dv">3</span>,<span class="dv">5</span>)</span>
<span id="cb199-3"><a href="#cb199-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_train_MDO<span class="sc">$</span>Class)</span>
<span id="cb199-4"><a href="#cb199-4" aria-hidden="true" tabindex="-1"></a><span class="co"># PROBLEMA: no control es nombre de dades que se fan</span></span>
<span id="cb199-5"><a href="#cb199-5" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(page_blocks0_train_MDO, file = "Taules_de_dades/page_blocks0/page_blocks0_train_MDO.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb200"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb200-1"><a href="#cb200-1" aria-hidden="true" tabindex="-1"></a>page_blocks0_train_MDO <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_train_MDO.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb200-2"><a href="#cb200-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_train_MDO<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
    3932     4049 </code></pre>
</div>
</div>
<section id="page_blocks0_1-7" class="level5">
<h5 class="anchored" data-anchor-id="page_blocks0_1-7">page_blocks0_1</h5>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb202"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb202-1"><a href="#cb202-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb MDO</span></span>
<span id="cb202-2"><a href="#cb202-2" aria-hidden="true" tabindex="-1"></a>page_blocks0_1_train_MDO <span class="ot">&lt;-</span> <span class="fu">MDO</span>(page_blocks0_1_train, <span class="dv">2</span>,<span class="dv">4</span>)</span>
<span id="cb202-3"><a href="#cb202-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_1_train_MDO<span class="sc">$</span>Class)</span>
<span id="cb202-4"><a href="#cb202-4" aria-hidden="true" tabindex="-1"></a><span class="co"># PROBLEMA: no control es nombre de dades que se fan</span></span>
<span id="cb202-5"><a href="#cb202-5" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(page_blocks0_1_train_MDO, file = "Taules_de_dades/page_blocks0/page_blocks0_1_train_MDO.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb203"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb203-1"><a href="#cb203-1" aria-hidden="true" tabindex="-1"></a>page_blocks0_1_train_MDO <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"Taules_de_dades/page_blocks0/page_blocks0_1_train_MDO.csv"</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)</span>
<span id="cb203-2"><a href="#cb203-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_1_train_MDO<span class="sc">$</span>Class)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
negative positive 
     404      425 </code></pre>
</div>
</div>
</section>
<section id="page_blocks0_2-7" class="level5">
<h5 class="anchored" data-anchor-id="page_blocks0_2-7">page_blocks0_2</h5>
<p>Balanceig:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb205"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb205-1"><a href="#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Balanceig amb MDO</span></span>
<span id="cb205-2"><a href="#cb205-2" aria-hidden="true" tabindex="-1"></a>page_blocks0_2_train_MDO <span class="ot">&lt;-</span> <span class="fu">MDO</span>(page_blocks0_2_train, <span class="dv">2</span>,<span class="dv">4</span>)</span>
<span id="cb205-3"><a href="#cb205-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_2_train_MDO<span class="sc">$</span>Class)</span>
<span id="cb205-4"><a href="#cb205-4" aria-hidden="true" tabindex="-1"></a><span class="co"># PROBLEMA: no control es nombre de dades que se fan</span></span>
<span id="cb205-5"><a href="#cb205-5" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(page_blocks0_2_train_MDO, file = "Taules_de_dades/page_blocks0/page_blocks0_2_train_MDO.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="rose" class="level3">
<h3 class="anchored" data-anchor-id="rose">ROSE</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb206"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb206-1"><a href="#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ROSE)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Warning: package 'ROSE' was built under R version 4.2.3</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Loaded ROSE 0.0-4</code></pre>
</div>
</div>
<section id="abalone9_18-9" class="level4">
<h4 class="anchored" data-anchor-id="abalone9_18-9">abalone9_18</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb209"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb209-1"><a href="#cb209-1" aria-hidden="true" tabindex="-1"></a>dades_sintetiques_abalone9_18_ROSE <span class="ot">&lt;-</span> <span class="fu">ROSE</span>(Class<span class="sc">~</span>., <span class="at">data =</span> abalone9_18_train, <span class="at">seed=</span><span class="dv">1</span>, <span class="at">hmult.majo =</span> <span class="dv">0</span>, <span class="at">hmult.mino =</span> <span class="fl">0.2</span>,<span class="at">p =</span> <span class="fl">0.99</span>, <span class="at">N =</span> <span class="dv">450</span>)<span class="sc">$</span>data</span>
<span id="cb209-2"><a href="#cb209-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone9_18_train<span class="sc">$</span>Class)</span>
<span id="cb209-3"><a href="#cb209-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb209-4"><a href="#cb209-4" aria-hidden="true" tabindex="-1"></a>abalone9_18_train_ROSE <span class="ot">&lt;-</span> <span class="fu">rbind</span>(abalone9_18_train, dades_sintetiques_abalone9_18_ROSE)</span>
<span id="cb209-5"><a href="#cb209-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone9_18_train_ROSE<span class="sc">$</span>Class)</span>
<span id="cb209-6"><a href="#cb209-6" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(abalone9_18_train_ROSE, file = "Taules_de_dades/abalone9_18/abalone9_18_train_ROSE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="page_blocks_1_3_4-9" class="level4">
<h4 class="anchored" data-anchor-id="page_blocks_1_3_4-9">page_blocks_1_3_4</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb210"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb210-1"><a href="#cb210-1" aria-hidden="true" tabindex="-1"></a>dades_sintetiques_page_blocks_1_3_4_ROSE <span class="ot">&lt;-</span> <span class="fu">ROSE</span>(Class<span class="sc">~</span>., <span class="at">data =</span> page_blocks_1_3_4_train, <span class="at">seed=</span><span class="dv">1</span>, <span class="at">hmult.majo =</span> <span class="dv">0</span>, <span class="at">hmult.mino =</span> <span class="fl">0.2</span>,<span class="at">p =</span> <span class="fl">0.99</span>, <span class="at">N =</span> <span class="dv">300</span>)<span class="sc">$</span>data</span>
<span id="cb210-2"><a href="#cb210-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks_1_3_4_train<span class="sc">$</span>Class)</span>
<span id="cb210-3"><a href="#cb210-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb210-4"><a href="#cb210-4" aria-hidden="true" tabindex="-1"></a>page_blocks_1_3_4_train_ROSE <span class="ot">&lt;-</span> <span class="fu">rbind</span>(page_blocks_1_3_4_train, dades_sintetiques_page_blocks_1_3_4_ROSE)</span>
<span id="cb210-5"><a href="#cb210-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks_1_3_4_train_ROSE<span class="sc">$</span>Class)</span>
<span id="cb210-6"><a href="#cb210-6" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(page_blocks_1_3_4_train_ROSE, file = "Taules_de_dades/page_blocks_1_3_4/page_blocks_1_3_4_train_ROSE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="glass_0_1_6_vs_2-9" class="level4">
<h4 class="anchored" data-anchor-id="glass_0_1_6_vs_2-9">glass_0_1_6_vs_2</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb211"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb211-1"><a href="#cb211-1" aria-hidden="true" tabindex="-1"></a>dades_sintetiques_glass_0_1_6_vs_2_ROSE <span class="ot">&lt;-</span> <span class="fu">ROSE</span>(Class<span class="sc">~</span>., <span class="at">data =</span> glass_0_1_6_vs_2_train, <span class="at">seed=</span><span class="dv">1</span>, <span class="at">hmult.majo =</span> <span class="dv">0</span>, <span class="at">hmult.mino =</span> <span class="fl">0.2</span>,<span class="at">p =</span> <span class="fl">0.99</span>, <span class="at">N =</span> <span class="dv">110</span>)<span class="sc">$</span>data</span>
<span id="cb211-2"><a href="#cb211-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_6_vs_2_train<span class="sc">$</span>Class)</span>
<span id="cb211-3"><a href="#cb211-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb211-4"><a href="#cb211-4" aria-hidden="true" tabindex="-1"></a>glass_0_1_6_vs_2_train_ROSE <span class="ot">&lt;-</span> <span class="fu">rbind</span>(glass_0_1_6_vs_2_train, dades_sintetiques_glass_0_1_6_vs_2_ROSE)</span>
<span id="cb211-5"><a href="#cb211-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_6_vs_2_train_ROSE<span class="sc">$</span>Class)</span>
<span id="cb211-6"><a href="#cb211-6" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(glass_0_1_6_vs_2_train_ROSE, file = "Taules_de_dades/glass_0_1_6_vs_2/glass_0_1_6_vs_2_train_ROSE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="glass_0_1_4_6_vs_2-9" class="level4">
<h4 class="anchored" data-anchor-id="glass_0_1_4_6_vs_2-9">glass_0_1_4_6_vs_2</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb212"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb212-1"><a href="#cb212-1" aria-hidden="true" tabindex="-1"></a>dades_sintetiques_glass_0_1_4_6_vs_2_ROSE <span class="ot">&lt;-</span> <span class="fu">ROSE</span>(Class<span class="sc">~</span>., <span class="at">data =</span> glass_0_1_4_6_vs_2_train, <span class="at">seed=</span><span class="dv">1</span>, <span class="at">hmult.majo =</span> <span class="dv">0</span>, <span class="at">hmult.mino =</span> <span class="fl">0.2</span>,<span class="at">p =</span> <span class="fl">0.99</span>, <span class="at">N =</span> <span class="dv">110</span>)<span class="sc">$</span>data</span>
<span id="cb212-2"><a href="#cb212-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_4_6_vs_2_train<span class="sc">$</span>Class)</span>
<span id="cb212-3"><a href="#cb212-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb212-4"><a href="#cb212-4" aria-hidden="true" tabindex="-1"></a>glass_0_1_4_6_vs_2_train_ROSE <span class="ot">&lt;-</span> <span class="fu">rbind</span>(glass_0_1_4_6_vs_2_train, dades_sintetiques_glass_0_1_4_6_vs_2_ROSE)</span>
<span id="cb212-5"><a href="#cb212-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass_0_1_4_6_vs_2_train_ROSE<span class="sc">$</span>Class)</span>
<span id="cb212-6"><a href="#cb212-6" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(glass_0_1_4_6_vs_2_train_ROSE, file = "Taules_de_dades/glass_0_1_4_6_vs_2/glass_0_1_4_6_vs_2_train_ROSE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="abalone19_peque-9" class="level4">
<h4 class="anchored" data-anchor-id="abalone19_peque-9">abalone19_peque</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb213"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb213-1"><a href="#cb213-1" aria-hidden="true" tabindex="-1"></a>dades_sintetiques_abalone19_peque_ROSE <span class="ot">&lt;-</span> <span class="fu">ROSE</span>(Class<span class="sc">~</span>., <span class="at">data =</span> abalone19_peque_train, <span class="at">seed=</span><span class="dv">1</span>, <span class="at">hmult.majo =</span> <span class="dv">0</span>, <span class="at">hmult.mino =</span> <span class="fl">0.2</span>,<span class="at">p =</span> <span class="fl">0.99</span>, <span class="at">N =</span> <span class="dv">200</span>)<span class="sc">$</span>data</span>
<span id="cb213-2"><a href="#cb213-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone19_peque_train<span class="sc">$</span>Class)</span>
<span id="cb213-3"><a href="#cb213-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb213-4"><a href="#cb213-4" aria-hidden="true" tabindex="-1"></a>abalone19_peque_train_ROSE <span class="ot">&lt;-</span> <span class="fu">rbind</span>(abalone19_peque_train, dades_sintetiques_abalone19_peque_ROSE)</span>
<span id="cb213-5"><a href="#cb213-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(abalone19_peque_train_ROSE<span class="sc">$</span>Class)</span>
<span id="cb213-6"><a href="#cb213-6" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(abalone19_peque_train_ROSE, file = "Taules_de_dades/abalone19/abalone19_peque_train_ROSE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="page_blocks0_1-8" class="level4">
<h4 class="anchored" data-anchor-id="page_blocks0_1-8">page_blocks0_1</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb214"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb214-1"><a href="#cb214-1" aria-hidden="true" tabindex="-1"></a>dades_sintetiques_page_blocks0_1_ROSE <span class="ot">&lt;-</span> <span class="fu">ROSE</span>(Class<span class="sc">~</span>., <span class="at">data =</span> page_blocks0_1_train, <span class="at">seed=</span><span class="dv">1</span>, <span class="at">hmult.majo =</span> <span class="dv">0</span>, <span class="at">hmult.mino =</span> <span class="fl">0.2</span>,<span class="at">p =</span> <span class="fl">0.99</span>, <span class="at">N =</span> <span class="dv">300</span>)<span class="sc">$</span>data</span>
<span id="cb214-2"><a href="#cb214-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_1_train<span class="sc">$</span>Class)</span>
<span id="cb214-3"><a href="#cb214-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb214-4"><a href="#cb214-4" aria-hidden="true" tabindex="-1"></a>page_blocks0_1_train_ROSE <span class="ot">&lt;-</span> <span class="fu">rbind</span>(page_blocks0_1_train, dades_sintetiques_page_blocks0_1_ROSE)</span>
<span id="cb214-5"><a href="#cb214-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_1_train_ROSE<span class="sc">$</span>Class)</span>
<span id="cb214-6"><a href="#cb214-6" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(page_blocks0_1_train_ROSE, file = "Taules_de_dades/page_blocks0/page_blocks0_1_train_ROSE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="page_blocks0_2-8" class="level4">
<h4 class="anchored" data-anchor-id="page_blocks0_2-8">page_blocks0_2</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb215"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb215-1"><a href="#cb215-1" aria-hidden="true" tabindex="-1"></a>dades_sintetiques_page_blocks0_2_ROSE <span class="ot">&lt;-</span> <span class="fu">ROSE</span>(Class<span class="sc">~</span>., <span class="at">data =</span> page_blocks0_2_train, <span class="at">seed=</span><span class="dv">1</span>, <span class="at">hmult.majo =</span> <span class="dv">0</span>, <span class="at">hmult.mino =</span> <span class="fl">0.2</span>,<span class="at">p =</span> <span class="fl">0.99</span>, <span class="at">N =</span> <span class="dv">300</span>)<span class="sc">$</span>data</span>
<span id="cb215-2"><a href="#cb215-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_2_train<span class="sc">$</span>Class)</span>
<span id="cb215-3"><a href="#cb215-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-4"><a href="#cb215-4" aria-hidden="true" tabindex="-1"></a>page_blocks0_2_train_ROSE <span class="ot">&lt;-</span> <span class="fu">rbind</span>(page_blocks0_2_train, dades_sintetiques_page_blocks0_2_ROSE)</span>
<span id="cb215-5"><a href="#cb215-5" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(page_blocks0_2_train_ROSE<span class="sc">$</span>Class)</span>
<span id="cb215-6"><a href="#cb215-6" aria-hidden="true" tabindex="-1"></a><span class="co">#write.csv(page_blocks0_2_train_ROSE, file = "Taules_de_dades/page_blocks0/page_blocks0_2_train_ROSE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="glass2-9" class="level4">
<h4 class="anchored" data-anchor-id="glass2-9">glass2</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb216"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb216-1"><a href="#cb216-1" aria-hidden="true" tabindex="-1"></a>dades_sintetiques_glass2_ROSE <span class="ot">&lt;-</span> <span class="fu">ROSE</span>(Class<span class="sc">~</span>., <span class="at">data =</span> glass2_train, <span class="at">seed=</span><span class="dv">1</span>, <span class="at">hmult.majo =</span> <span class="dv">0</span>, <span class="at">hmult.mino =</span> <span class="fl">0.2</span>,<span class="at">p =</span> <span class="fl">0.99</span>, <span class="at">N =</span> <span class="dv">150</span>)<span class="sc">$</span>data</span>
<span id="cb216-2"><a href="#cb216-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass2_train<span class="sc">$</span>Class)</span>
<span id="cb216-3"><a href="#cb216-3" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(dades_sintetiques_glass2_ROSE<span class="sc">$</span>Class)</span>
<span id="cb216-4"><a href="#cb216-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb216-5"><a href="#cb216-5" aria-hidden="true" tabindex="-1"></a>glass2_train_ROSE <span class="ot">&lt;-</span> <span class="fu">rbind</span>(glass2_train, dades_sintetiques_glass2_ROSE)</span>
<span id="cb216-6"><a href="#cb216-6" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(glass2_train_ROSE<span class="sc">$</span>Class)</span>
<span id="cb216-7"><a href="#cb216-7" aria-hidden="true" tabindex="-1"></a><span class="co"># write.csv(glass2_train_ROSE, file = "Taules_de_dades/glass2/glass2_train_ROSE.csv", row.names = FALSE)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>